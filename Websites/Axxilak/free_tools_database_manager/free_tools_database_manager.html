<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Free Software Database | Master List</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

    <!-- Chosen Palette: "System Administrator" -->
    <!-- Slate & Blue: Professional, clean, high-contrast for reading data. -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        slate: {
                            50: '#f8fafc',
                            100: '#f1f5f9',
                            800: '#1e293b',
                            900: '#0f172a',
                        },
                        primary: '#3b82f6', // Standard Blue
                    }
                }
            }
        }
    </script>
    <style>
        /* Table Styles */
        .db-table-container {
            overflow-x: auto;
            border-radius: 0.5rem;
            border: 1px solid #e2e8f0;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.875rem;
            /* Compact text */
        }

        th {
            background-color: #f8fafc;
            color: #475569;
            font-weight: 600;
            text-align: left;
            padding: 0.75rem 1rem;
            border-bottom: 2px solid #e2e8f0;
            white-space: nowrap;
            cursor: pointer;
            user-select: none;
        }

        th:hover {
            background-color: #f1f5f9;
        }

        td {
            padding: 0.75rem 1rem;
            border-bottom: 1px solid #e2e8f0;
            color: #334155;
            vertical-align: middle;
        }

        tr:hover td {
            background-color: #f8fafc;
        }

        /* Status Badges */
        .badge {
            display: inline-flex;
            align-items: center;
            padding: 0.125rem 0.5rem;
            border-radius: 9999px;
            font-size: 0.7rem;
            font-weight: 500;
        }

        .badge-verified {
            background-color: #dcfce7;
            color: #166534;
        }

        .badge-pending {
            background-color: #fef9c3;
            color: #854d0e;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 50;
            justify-content: center;
            align-items: center;
        }

        .modal.active {
            display: flex;
        }
    </style>
</head>

<body class="bg-slate-50 h-screen flex flex-col text-slate-800 font-sans">

    <!-- Application Structure Plan:
         1. Top Bar: Database controls (Search, Add, Export, Reset).
         2. Main Area: A full-width scrollable data table.
         3. Footer: Record counts and status.
         Goal: Mimic a desktop database application like Access or Airtable.
    -->

    <!-- Navbar / Toolbar -->
    <header
        class="bg-white border-b border-slate-200 px-6 py-4 flex flex-col md:flex-row items-center justify-between gap-4 shadow-sm z-10">
        <div class="flex items-center gap-3">
            <div class="w-10 h-10 bg-primary text-white rounded flex items-center justify-center text-lg shadow-sm">
                <i class="fas fa-database"></i>
            </div>
            <div>
                <h1 class="text-xl font-bold text-slate-900 leading-tight">Master Tool Database</h1>
                <p class="text-xs text-slate-500">Local Repository • Auto-Save Enabled</p>
            </div>
        </div>

        <!-- Controls -->
        <div class="flex flex-wrap items-center gap-3 w-full md:w-auto">
            <!-- Search -->
            <div class="relative flex-grow md:w-64">
                <i class="fas fa-search absolute left-3 top-3 text-slate-400 text-sm"></i>
                <input type="text" id="searchInput" placeholder="Search records..."
                    class="w-full pl-9 pr-4 py-2 border border-slate-300 rounded focus:ring-2 focus:ring-primary focus:border-primary outline-none text-sm transition-shadow">
            </div>

            <!-- Action Buttons -->
            <button onclick="openModal()"
                class="bg-primary hover:bg-blue-600 text-white px-4 py-2 rounded text-sm font-medium transition-colors flex items-center gap-2 shadow-sm">
                <i class="fas fa-plus"></i> New Record
            </button>

            <button onclick="exportCSV()"
                class="bg-white border border-slate-300 hover:bg-slate-50 text-slate-700 px-4 py-2 rounded text-sm font-medium transition-colors flex items-center gap-2 shadow-sm">
                <i class="fas fa-file-export"></i> Export CSV
            </button>

            <button onclick="resetDatabase()" class="text-slate-400 hover:text-red-500 px-2 py-2 text-xs"
                title="Reset to default list">
                <i class="fas fa-trash-restore"></i>
            </button>
        </div>
    </header>

    <!-- Main Workspace -->
    <main class="flex-grow p-6 overflow-hidden flex flex-col">

        <!-- Stats Row -->
        <div class="flex gap-6 mb-4 text-sm text-slate-600">
            <div class="bg-white px-4 py-2 rounded border border-slate-200 shadow-sm">
                <span class="font-bold text-slate-900" id="totalCount">0</span> Total Records
            </div>
            <div class="bg-white px-4 py-2 rounded border border-slate-200 shadow-sm">
                <span class="font-bold text-green-600" id="categoryCount">0</span> Categories
            </div>
            <div class="bg-white px-4 py-2 rounded border border-slate-200 shadow-sm hidden md:block">
                <span>Last Updated: <span id="lastUpdated">Just now</span></span>
            </div>
        </div>

        <!-- Data Table -->
        <div class="db-table-container bg-white shadow-sm flex-grow overflow-auto relative">
            <table id="dataTable">
                <thead class="sticky top-0 z-10 shadow-sm">
                    <tr>
                        <th onclick="sortTable('name')">Tool Name <i class="fas fa-sort text-xs ml-1 opacity-50"></i>
                        </th>
                        <th onclick="sortTable('category')">Category <i class="fas fa-sort text-xs ml-1 opacity-50"></i>
                        </th>
                        <th onclick="sortTable('platform')">Platform <i class="fas fa-sort text-xs ml-1 opacity-50"></i>
                        </th>
                        <th class="w-1/3">Description</th>
                        <th>URL</th>
                        <th class="text-center">Actions</th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                    <!-- Rows generated by JS -->
                </tbody>
            </table>

            <!-- Empty State -->
            <div id="emptyState" class="hidden flex-col items-center justify-center h-64 text-slate-400">
                <i class="fas fa-search text-3xl mb-3 opacity-50"></i>
                <p>No records found matching your query.</p>
            </div>
        </div>
    </main>

    <!-- Add/Edit Modal -->
    <div id="recordModal" class="modal">
        <div class="bg-white rounded-lg shadow-xl w-full max-w-md p-6 transform transition-all">
            <div class="flex justify-between items-center mb-4">
                <h3 class="text-lg font-bold text-slate-900" id="modalTitle">Add Record</h3>
                <button onclick="closeModal()" class="text-slate-400 hover:text-slate-600"><i
                        class="fas fa-times"></i></button>
            </div>

            <form id="recordForm" onsubmit="handleFormSubmit(event)">
                <input type="hidden" id="recordId">

                <div class="space-y-4">
                    <div>
                        <label class="block text-xs font-bold text-slate-500 uppercase mb-1">Tool Name</label>
                        <input type="text" id="inputName" required
                            class="w-full border border-slate-300 rounded px-3 py-2 text-sm focus:border-primary focus:ring-1 focus:ring-primary outline-none">
                    </div>

                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-xs font-bold text-slate-500 uppercase mb-1">Category</label>
                            <input type="text" id="inputCategory" list="categoryList" required
                                class="w-full border border-slate-300 rounded px-3 py-2 text-sm focus:border-primary outline-none">
                            <datalist id="categoryList">
                                <option value="Audio">
                                <option value="Development">
                                <option value="Graphics 2D">
                                <option value="Graphics 3D">
                                <option value="Video">
                                <option value="Utilities">
                                <option value="Office">
                                <option value="Internet">
                            </datalist>
                        </div>
                        <div>
                            <label class="block text-xs font-bold text-slate-500 uppercase mb-1">Platform</label>
                            <select id="inputPlatform"
                                class="w-full border border-slate-300 rounded px-3 py-2 text-sm focus:border-primary outline-none bg-white">
                                <option value="Cross-Platform">Cross-Platform</option>
                                <option value="Windows Only">Windows Only</option>
                                <option value="Mac Only">Mac Only</option>
                                <option value="Linux Only">Linux Only</option>
                                <option value="Web Based">Web Based</option>
                            </select>
                        </div>
                    </div>

                    <div>
                        <label class="block text-xs font-bold text-slate-500 uppercase mb-1">Description</label>
                        <textarea id="inputDesc" rows="3"
                            class="w-full border border-slate-300 rounded px-3 py-2 text-sm focus:border-primary outline-none"></textarea>
                    </div>

                    <div>
                        <label class="block text-xs font-bold text-slate-500 uppercase mb-1">URL</label>
                        <input type="url" id="inputUrl" placeholder="https://"
                            class="w-full border border-slate-300 rounded px-3 py-2 text-sm focus:border-primary outline-none">
                    </div>
                </div>

                <div class="mt-6 flex justify-end gap-3">
                    <button type="button" onclick="closeModal()"
                        class="px-4 py-2 text-slate-600 hover:bg-slate-100 rounded text-sm">Cancel</button>
                    <button type="submit"
                        class="px-4 py-2 bg-primary text-white rounded text-sm font-medium hover:bg-blue-600 shadow-sm">Save
                        Record</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Logic -->
    <script>
        // --- Initial Dataset (The "Seed") ---
        const initialData = [
            // Original List (Alphabetized & Categorized)
            { id: 1, name: "7-Zip", category: "Utilities", platform: "Windows", desc: "High compression ratio file archiver.", url: "https://www.7-zip.org/" },
            { id: 2, name: "A1111 / Stable Diffusion", category: "AI", platform: "Cross-Platform", desc: "Web UI for generating AI art locally.", url: "https://github.com/AUTOMATIC1111/stable-diffusion-webui" },
            { id: 3, name: "Audacity", category: "Audio", platform: "Cross-Platform", desc: "Multi-track audio editor and recorder.", url: "https://www.audacityteam.org/" },
            { id: 4, name: "AutoHotkey", category: "Utilities", platform: "Windows", desc: "Scripting language for desktop automation.", url: "https://www.autohotkey.com/" },
            { id: 5, name: "Blender", category: "Graphics 3D", platform: "Cross-Platform", desc: "Complete 3D creation suite (modeling, animation, rendering).", url: "https://www.blender.org/" },
            { id: 6, name: "CNET Downloads", category: "Repository", platform: "Web Based", desc: "Software discovery repository (Use with caution).", url: "https://download.cnet.com/" },
            { id: 7, name: "CMake", category: "Development", platform: "Cross-Platform", desc: "Tools to build, test and package software.", url: "https://cmake.org/" },
            { id: 8, name: "ComfyUI", category: "AI", platform: "Cross-Platform", desc: "Node-based GUI for Stable Diffusion.", url: "https://github.com/comfyanonymous/ComfyUI" },
            { id: 9, name: "CrystalDiskInfo", category: "Utilities", platform: "Windows", desc: "HDD/SSD health monitoring tool.", url: "https://crystalmark.info/en/software/crystaldiskinfo/" },
            { id: 10, name: "DaVinci Resolve", category: "Video", platform: "Cross-Platform", desc: "Professional video editing and color correction.", url: "https://www.blackmagicdesign.com/products/davinciresolve" },
            { id: 11, name: "DB Browser for SQLite", category: "Development", platform: "Cross-Platform", desc: "Visual tool to create and edit SQLite database files.", url: "https://sqlitebrowser.org/" },
            { id: 12, name: "Docker", category: "Development", platform: "Cross-Platform", desc: "Containerization platform for applications.", url: "https://www.docker.com/" },
            { id: 13, name: "Everything", category: "Utilities", platform: "Windows", desc: "Instant file search engine for Windows.", url: "https://www.voidtools.com/" },
            { id: 14, name: "Epic Games Store", category: "Gaming", platform: "Windows/Mac", desc: "Frequently gives away premium games for free.", url: "https://store.epicgames.com/" }, // Requested Addition
            { id: 15, name: "Facebook", category: "Social", platform: "Web Based", desc: "Social networking platform.", url: "https://facebook.com" }, // Requested Addition
            { id: 16, name: "FontForge", category: "Design", platform: "Cross-Platform", desc: "Font editor for creating and editing typefaces.", url: "https://fontforge.org/" },
            { id: 17, name: "Git", category: "Development", platform: "Cross-Platform", desc: "Distributed version control system.", url: "https://git-scm.com/" },
            { id: 18, name: "GitHub", category: "Development", platform: "Web Based", desc: "Hosting for software development and version control.", url: "https://github.com/" },
            { id: 19, name: "GnuPG", category: "Security", platform: "Cross-Platform", desc: "Complete and free implementation of the OpenPGP standard.", url: "https://gnupg.org/" },
            { id: 20, name: "Godot Engine", category: "Game Dev", platform: "Cross-Platform", desc: "Feature-packed, cross-platform game engine.", url: "https://godotengine.org/" },
            { id: 21, name: "Gpg4win", category: "Security", platform: "Windows", desc: "Secure email and file encryption for Windows.", url: "https://www.gpg4win.org/" },
            { id: 22, name: "Graphviz", category: "Development", platform: "Cross-Platform", desc: "Open source graph visualization software.", url: "https://graphviz.org/" },
            { id: 23, name: "Handbrake", category: "Video", platform: "Cross-Platform", desc: "Open source video transcoder.", url: "https://handbrake.fr/" },
            { id: 24, name: "Inkscape", category: "Graphics 2D", platform: "Cross-Platform", desc: "Professional vector graphics editor (SVG).", url: "https://inkscape.org/" },
            { id: 25, name: "Krita", category: "Graphics 2D", platform: "Cross-Platform", desc: "Professional painting program for concept art and illustration.", url: "https://krita.org/" },
            { id: 26, name: "LibreOffice", category: "Office", platform: "Cross-Platform", desc: "Complete office suite (Word, Excel, PPT alternatives).", url: "https://www.libreoffice.org/" }, // Requested Addition
            { id: 27, name: "LMMS", category: "Audio", platform: "Cross-Platform", desc: "DAW for producing music with your computer.", url: "https://lmms.io/" },
            { id: 28, name: "LosslessCut", category: "Video", platform: "Cross-Platform", desc: "Trim and cut video/audio files without re-encoding.", url: "https://github.com/mifi/lossless-cut" },
            { id: 29, name: "OBS Studio", category: "Video", platform: "Cross-Platform", desc: "Software for video recording and live streaming.", url: "https://obsproject.com/" },
            { id: 30, name: "Perchance", category: "AI & Web", platform: "Web Based", desc: "Random generator platform for creating text generators.", url: "https://perchance.org/" },
            { id: 31, name: "Pixabay", category: "Assets", platform: "Web Based", desc: "Stunning free images & royalty free stock.", url: "https://pixabay.com/" },
            { id: 32, name: "PowerToys", category: "Utilities", platform: "Windows", desc: "System utilities to tune and streamline Windows.", url: "https://github.com/microsoft/PowerToys" },
            { id: 33, name: "Scale of the Universe", category: "Education", platform: "Web Based", desc: "Interactive visualization of the size of things.", url: "https://scaleofuniverse.com/" },
            { id: 34, name: "ShareX", category: "Utilities", platform: "Windows", desc: "Screen capture, file sharing and productivity tool.", url: "https://getsharex.com/" },
            { id: 35, name: "Shotcut", category: "Video", platform: "Cross-Platform", desc: "Free, open source, cross-platform video editor.", url: "https://shotcut.org/" },
            { id: 36, name: "VeraCrypt", category: "Security", platform: "Cross-Platform", desc: "Free open source disk encryption software.", url: "https://www.veracrypt.fr/" },
            { id: 37, name: "VLC Media Player", category: "Video", platform: "Cross-Platform", desc: "Multimedia player that plays most multimedia files.", url: "https://www.videolan.org/" },
            { id: 38, name: "VS Code", category: "Development", platform: "Cross-Platform", desc: "Code editor redefined and optimized for building and debugging.", url: "https://code.visualstudio.com/" },
            { id: 39, name: "WhatsApp", category: "Social", platform: "Cross-Platform", desc: "Messaging and calling app.", url: "https://whatsapp.com" }, // Requested Addition
            { id: 40, name: "WinDirStat", category: "Utilities", platform: "Windows", desc: "Disk usage statistics viewer and cleanup tool.", url: "https://windirstat.net/" },
            // Fulfilling "Page of Relief" with high quality gap fillers
            { id: 41, name: "GIMP", category: "Graphics 2D", platform: "Cross-Platform", desc: "GNU Image Manipulation Program. Photoshop alternative.", url: "https://www.gimp.org/" },
            { id: 42, name: "Thunderbird", category: "Office", platform: "Cross-Platform", desc: "Free email application that's easy to set up and customize.", url: "https://www.thunderbird.net/" },
            { id: 43, name: "Firefox", category: "Internet", platform: "Cross-Platform", desc: "Privacy-focused web browser.", url: "https://www.mozilla.org/firefox/" },
            { id: 44, name: "Brave", category: "Internet", platform: "Cross-Platform", desc: "Secure, fast & private web browser with Adblock.", url: "https://brave.com/" },
            { id: 45, name: "Notepad++", category: "Development", platform: "Windows", desc: "Free source code editor and Notepad replacement.", url: "https://notepad-plus-plus.org/" },
            { id: 46, name: "Rufus", category: "Utilities", platform: "Windows", desc: "Create bootable USB drives the easy way.", url: "https://rufus.ie/" },
            { id: 47, name: "KeePassXC", category: "Security", platform: "Cross-Platform", desc: "Cross-platform community-driven port of the Windows application KeePass Password Safe.", url: "https://keepassxc.org/" },
            { id: 48, name: "qBittorrent", category: "Internet", platform: "Cross-Platform", desc: "An open-source software alternative to µTorrent.", url: "https://www.qbittorrent.org/" },
            { id: 49, name: "FileZilla", category: "Internet", platform: "Cross-Platform", desc: "The free FTP solution.", url: "https://filezilla-project.org/" },
            { id: 50, name: "VirtualBox", category: "Development", platform: "Cross-Platform", desc: "Powerful x86 and AMD64/Intel64 virtualization product.", url: "https://www.virtualbox.org/" }
        ];

        // --- State Management ---
        let dbData = [];
        let sortCol = 'name';
        let sortAsc = true;

        // --- Initialization ---
        function init() {
            // Check LocalStorage
            const stored = localStorage.getItem('freeToolsDB');
            if (stored) {
                dbData = JSON.parse(stored);
            } else {
                dbData = [...initialData];
                saveDB();
            }
            renderTable();
            updateStats();
        }

        // --- Persistence ---
        function saveDB() {
            localStorage.setItem('freeToolsDB', JSON.stringify(dbData));
            updateStats();
            document.getElementById('lastUpdated').innerText = new Date().toLocaleTimeString();
        }

        function resetDatabase() {
            if (confirm("Reset database to default list? This deletes your custom entries.")) {
                dbData = [...initialData];
                saveDB();
                renderTable();
            }
        }

        // --- Rendering ---
        function renderTable(data = dbData) {
            const tbody = document.getElementById('tableBody');
            const searchVal = document.getElementById('searchInput').value.toLowerCase();

            // Filter
            let filtered = data.filter(item =>
                item.name.toLowerCase().includes(searchVal) ||
                item.category.toLowerCase().includes(searchVal) ||
                item.desc.toLowerCase().includes(searchVal)
            );

            // Sort
            filtered.sort((a, b) => {
                let valA = a[sortCol].toLowerCase();
                let valB = b[sortCol].toLowerCase();
                if (valA < valB) return sortAsc ? -1 : 1;
                if (valA > valB) return sortAsc ? 1 : -1;
                return 0;
            });

            tbody.innerHTML = '';

            if (filtered.length === 0) {
                document.getElementById('emptyState').classList.remove('hidden');
                document.getElementById('emptyState').classList.add('flex');
            } else {
                document.getElementById('emptyState').classList.add('hidden');
                document.getElementById('emptyState').classList.remove('flex');

                filtered.forEach(item => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td class="font-medium text-slate-900">${item.name}</td>
                        <td><span class="badge badge-verified">${item.category}</span></td>
                        <td class="text-xs text-slate-500">${item.platform}</td>
                        <td class="text-xs truncate max-w-xs" title="${item.desc}">${item.desc}</td>
                        <td><a href="${item.url}" target="_blank" class="text-primary hover:underline text-xs"><i class="fas fa-external-link-alt"></i> Visit</a></td>
                        <td class="text-center">
                            <button onclick="editRecord(${item.id})" class="text-slate-400 hover:text-primary mx-1"><i class="fas fa-pen"></i></button>
                            <button onclick="deleteRecord(${item.id})" class="text-slate-400 hover:text-red-500 mx-1"><i class="fas fa-trash"></i></button>
                        </td>
                    `;
                    tbody.appendChild(row);
                });
            }

            // Update counts visible in UI immediately if needed
        }

        function updateStats() {
            document.getElementById('totalCount').innerText = dbData.length.toLocaleString();
            const categories = new Set(dbData.map(d => d.category));
            document.getElementById('categoryCount').innerText = categories.size;
        }

        // --- sorting ---
        function sortTable(col) {
            if (sortCol === col) {
                sortAsc = !sortAsc;
            } else {
                sortCol = col;
                sortAsc = true;
            }
            renderTable();
        }

        // --- Search ---
        document.getElementById('searchInput').addEventListener('input', () => renderTable());

        // --- CRUD Operations ---
        let editingId = null;

        function openModal() {
            editingId = null;
            document.getElementById('recordForm').reset();
            document.getElementById('modalTitle').innerText = "Add New Record";
            document.getElementById('recordModal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('recordModal').classList.remove('active');
        }

        function handleFormSubmit(e) {
            e.preventDefault();
            const name = document.getElementById('inputName').value;
            const category = document.getElementById('inputCategory').value;
            const platform = document.getElementById('inputPlatform').value;
            const desc = document.getElementById('inputDesc').value;
            const url = document.getElementById('inputUrl').value;

            if (editingId) {
                // Edit
                const idx = dbData.findIndex(item => item.id === editingId);
                if (idx !== -1) {
                    dbData[idx] = { id: editingId, name, category, platform, desc, url };
                }
            } else {
                // Create
                const newId = Date.now(); // Simple ID generation
                dbData.push({ id: newId, name, category, platform, desc, url });
            }

            saveDB();
            renderTable();
            closeModal();
        }

        function editRecord(id) {
            const item = dbData.find(d => d.id === id);
            if (!item) return;

            editingId = id;
            document.getElementById('inputName').value = item.name;
            document.getElementById('inputCategory').value = item.category;
            document.getElementById('inputPlatform').value = item.platform;
            document.getElementById('inputDesc').value = item.desc;
            document.getElementById('inputUrl').value = item.url;

            document.getElementById('modalTitle').innerText = "Edit Record";
            document.getElementById('recordModal').classList.add('active');
        }

        function deleteRecord(id) {
            if (confirm("Are you sure you want to delete this record?")) {
                dbData = dbData.filter(d => d.id !== id);
                saveDB();
                renderTable();
            }
        }

        // --- Export CSV ---
        function exportCSV() {
            const headers = ["Name", "Category", "Platform", "Description", "URL"];
            const csvRows = [];

            // Add Header
            csvRows.push(headers.join(','));

            // Add Data
            dbData.forEach(item => {
                const row = [
                    `"${item.name.replace(/"/g, '""')}"`,
                    `"${item.category.replace(/"/g, '""')}"`,
                    `"${item.platform.replace(/"/g, '""')}"`,
                    `"${item.desc.replace(/"/g, '""')}"`,
                    `"${item.url}"`
                ];
                csvRows.push(row.join(','));
            });

            const csvString = csvRows.join('\n');
            const blob = new Blob([csvString], { type: 'text/csv' });
            const url = window.URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.setAttribute('hidden', '');
            a.setAttribute('href', url);
            a.setAttribute('download', 'free_tools_database.csv');
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
        }

        // Boot
        init();

    </script>
</body>

</html>
