================================================================================
CODEGNOSIS AI CONTEXT BUNDLE
Project: Axxilak
Bundle: 2 of 4
Focus: mixed
Generated: 2026-02-06T06:52:40.673803+00:00
================================================================================

NOTE: This is a chunked bundle. Other bundles contain additional files.
To see all files, request bundles 1-4.

## CROSS-REFERENCE (Other Bundles)
- Bundle 1 (mixed): 48 files
    - .gitignore
    - .nojekyll
    - Axxilak Forge v4.0 - The Composer.html
    - Axxilak_Architecture_Blueprint.html
    - CNAME
    - ... and 43 more
- Bundle 3 (mixed): 1 files
    - favicon.xcf
- Bundle 4 (docs): 39 files
    - free-stuff.html
    - gallery_preview.html
    - index.html
    - js/transition-crack.js
    - js/voronoi-generator.js
    - ... and 34 more

## FILES IN THIS BUNDLE
(10 files)

---
FILE: axxilak_forge_v2.0.html
CATEGORY: HTML | ROLE: src
---
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Axxilak Forge v2.0 | Multi-Template Architecture</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- JSZip for Distribution Bundles -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <!-- FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* Forge UI Styles */
        body {
            background-color: #0f172a;
            color: #f8fafc;
            font-family: 'Inter', sans-serif;
            overflow: hidden;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 6px;
        }

        ::-webkit-scrollbar-track {
            background: #1e293b;
        }

        ::-webkit-scrollbar-thumb {
            background: #475569;
            border-radius: 3px;
        }

        /* Range Slider */
        input[type=range] {
            -webkit-appearance: none;
            background: transparent;
        }

        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 14px;
            width: 14px;
            border-radius: 50%;
            background: #d4af37;
            margin-top: -5px;
        }

        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 4px;
            background: #334155;
            border-radius: 2px;
        }

        /* Loader */
        .loader {
            border: 3px solid #f3f3f3;
            border-radius: 50%;
            border-top: 3px solid #d4af37;
            width: 20px;
            height: 20px;
            -webkit-animation: spin 1s linear infinite;
            animation: spin 1s linear infinite;
            display: inline-block;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }
    </style>
</head>

<body class="h-screen flex flex-col">

    <!-- HEADER -->
    <header
        class="h-16 bg-slate-900 border-b border-slate-700 flex items-center justify-between px-6 shrink-0 shadow-lg z-20">
        <div class="flex items-center gap-3">
            <div
                class="w-9 h-9 bg-gradient-to-br from-[#d4af37] to-[#8b7355] rounded-lg flex items-center justify-center font-bold text-slate-900 text-lg shadow-glow">
                A</div>
            <div>
                <h1 class="font-bold text-lg tracking-wide leading-none">Axxilak <span
                        class="text-[#d4af37]">Forge</span></h1>
                <span class="text-[10px] text-slate-500 uppercase tracking-widest">System v2.0</span>
            </div>
        </div>

        <div class="flex items-center gap-3">
            <!-- Free Tier - Visible Love -->
            <button onclick="downloadHtmlOnly()"
                class="text-slate-400 hover:text-white px-3 py-2 text-xs font-medium transition-colors flex items-center gap-2 border border-slate-700 rounded hover:border-slate-500">
                <i class="fa-solid fa-code"></i> Download HTML Only (Free)
            </button>

            <!-- Paid Tier - The Product -->
            <button onclick="buyAndDownload()"
                class="bg-[#d4af37] hover:bg-[#b5952f] text-slate-900 font-bold py-2 px-4 rounded text-sm transition-all shadow-lg hover:shadow-[#d4af37]/20 flex items-center gap-2">
                <i class="fa-solid fa-credit-card"></i> $50.00 (Premium/Professional Tier)
            </button>
        </div>
    </header>

    <!-- MAIN WORKSPACE -->
    <main class="flex-1 flex overflow-hidden">

        <!-- LEFT: EDITOR CONTROLS -->
        <aside class="w-80 bg-slate-800 border-r border-slate-700 flex flex-col shrink-0 z-10 shadow-xl">
            <!-- Template Switcher -->
            <div class="p-4 bg-slate-900 border-b border-slate-700">
                <label class="text-[10px] text-slate-400 uppercase font-bold tracking-widest mb-2 block">Active
                    Webling</label>
                <div class="relative">
                    <select id="template-selector" onchange="switchTemplate(this.value)"
                        class="w-full bg-slate-800 text-white text-sm border border-slate-600 rounded p-2 appearance-none focus:border-[#d4af37] outline-none cursor-pointer">
                        <option value="consultant">Scholar</option>
                        <option value="oracle">Oracle</option>
                        <option value="apex">Apex</option>
                        <option value="aura">Aura</option>
                        <option value="canvas">Canvas</option>
                        <option value="cipher">Cipher</option>
                        <option value="gaia">Gaia</option>
                        <option value="neon-tokyo">Neon Tokyo</option>
                        <option value="summit">Summit</option>
                        <option value="ether">Ether</option>
                        <option value="liquid-gold">Liquid Gold</option>
                        <option value="iron-ink">Iron & Ink</option>
                        <option value="velvet">Velvet</option>
                    </select>
                    <div class="absolute right-3 top-2.5 text-slate-400 pointer-events-none">
                        <i class="fa-solid fa-chevron-down text-xs"></i>
                    </div>
                </div>
            </div>

            <div class="flex-1 overflow-y-auto p-5 custom-scroll">

                <!-- Dynamic Controls Container -->
                <div id="controls-container" class="space-y-6">
                    <!-- Controls are injected via JS based on state -->
                </div>

                <!-- Hardcoded Logic for Demo -->
                <div class="space-y-6">
                    <div>
                        <h2
                            class="text-xs font-bold text-[#d4af37] uppercase tracking-wider mb-3 flex items-center gap-2">
                            <i class="fa-solid fa-palette"></i> Design System
                        </h2>
                        <div class="space-y-3">
                            <div>
                                <label class="text-xs text-slate-300 block mb-1">Primary Color</label>
                                <div class="flex gap-2">
                                    <input type="color" id="ctrl-primary"
                                        class="w-8 h-8 rounded cursor-pointer border-none bg-transparent p-0"
                                        oninput="updateState('colors.primary', this.value)">
                                    <input type="text" id="txt-primary"
                                        class="flex-1 bg-slate-700 border border-slate-600 rounded text-xs px-2 text-slate-300 font-mono"
                                        readonly>
                                </div>
                            </div>
                            <div>
                                <label class="text-xs text-slate-300 block mb-1">Background</label>
                                <div class="flex gap-2">
                                    <input type="color" id="ctrl-bg"
                                        class="w-8 h-8 rounded cursor-pointer border-none bg-transparent p-0"
                                        oninput="updateState('colors.background', this.value)">
                                    <input type="text" id="txt-bg"
                                        class="flex-1 bg-slate-700 border border-slate-600 rounded text-xs px-2 text-slate-300 font-mono"
                                        readonly>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div>
                        <h2
                            class="text-xs font-bold text-[#d4af37] uppercase tracking-wider mb-3 flex items-center gap-2">
                            <i class="fa-solid fa-pen-nib"></i> Identity
                        </h2>
                        <div class="space-y-3">
                            <div>
                                <label class="text-xs text-slate-300 block mb-1">Name</label>
                                <input type="text" id="ctrl-name"
                                    class="w-full bg-slate-700 border border-slate-600 rounded p-2 text-sm text-white focus:border-[#d4af37] outline-none transition-colors"
                                    oninput="updateState('text.name', this.value)">
                            </div>
                            <div>
                                <label class="text-xs text-slate-300 block mb-1">Role / Tagline</label>
                                <input type="text" id="ctrl-tagline"
                                    class="w-full bg-slate-700 border border-slate-600 rounded p-2 text-sm text-white focus:border-[#d4af37] outline-none transition-colors"
                                    oninput="updateState('text.tagline', this.value)">
                            </div>
                            <div>
                                <label class="text-xs text-slate-300 block mb-1">Bio</label>
                                <textarea id="ctrl-bio" rows="3"
                                    class="w-full bg-slate-700 border border-slate-600 rounded p-2 text-sm text-white focus:border-[#d4af37] outline-none transition-colors"
                                    oninput="updateState('text.bio', this.value)"></textarea>
                            </div>
                        </div>
                    </div>

                    <div>
                        <h2
                            class="text-xs font-bold text-[#d4af37] uppercase tracking-wider mb-3 flex items-center gap-2">
                            <i class="fa-regular fa-image"></i> Assets
                        </h2>
                        <div class="relative group">
                            <input type="file" id="ctrl-img-upload" accept="image/*" class="hidden"
                                onchange="handleSmartImageUpload(this)">
                            <label for="ctrl-img-upload"
                                class="flex flex-col items-center justify-center w-full h-24 border-2 border-dashed border-slate-600 rounded-lg cursor-pointer hover:border-[#d4af37] hover:bg-slate-700/50 transition-all">
                                <i
                                    class="fa-solid fa-cloud-arrow-up text-slate-400 mb-1 text-xl group-hover:text-[#d4af37] transition-colors"></i>
                                <span class="text-xs text-slate-400 group-hover:text-slate-200">Upload Profile
                                    Photo</span>
                            </label>
                            <div id="compression-indicator"
                                class="hidden absolute inset-0 bg-slate-900/80 flex items-center justify-center rounded-lg">
                                <div class="loader"></div>
                            </div>
                        </div>
                        <p class="text-[10px] text-slate-500 mt-2 flex items-center gap-1">
                            <i class="fa-solid fa-bolt text-yellow-500"></i> Auto-compressed to < 150KB </p>
                    </div>
                </div>
            </div>

            <!-- Live Stats -->
            <div
                class="mt-auto p-3 border-t border-slate-700 bg-slate-950 flex justify-between items-center text-[10px] text-slate-500 font-mono">
                <span>STATE SIZE: <span id="state-size" class="text-green-400">0 KB</span></span>
                <span><i class="fa-solid fa-circle text-green-500 text-[6px] mr-1"></i>AUTO-SAVED</span>
            </div>
        </aside>

        <!-- CENTER: PREVIEW CANVAS -->
        <div class="flex-1 bg-[#050505] flex flex-col relative bg-dots">
            <!-- Preview Toolbar -->
            <div
                class="h-12 bg-slate-800/80 backdrop-blur border-b border-slate-700 flex items-center justify-center gap-6 px-4">
                <div class="flex bg-slate-700 rounded p-1">
                    <button onclick="setPreviewMode('desktop')" id="btn-desktop"
                        class="px-3 py-1 rounded text-slate-300 hover:text-white hover:bg-slate-600 transition-all text-xs active-mode"><i
                            class="fa-solid fa-desktop mr-1"></i> Desktop</button>
                    <button onclick="setPreviewMode('mobile')" id="btn-mobile"
                        class="px-3 py-1 rounded text-slate-300 hover:text-white hover:bg-slate-600 transition-all text-xs"><i
                            class="fa-solid fa-mobile-screen mr-1"></i> Mobile</button>
                </div>

                <div class="w-px h-4 bg-slate-600"></div>

                <button onclick="resetTemplate()"
                    class="text-xs text-red-400 hover:text-red-300 flex items-center gap-1">
                    <i class="fa-solid fa-rotate-left"></i> Reset
                </button>
            </div>

            <!-- Iframe Wrapper -->
            <div class="flex-1 flex items-center justify-center p-4 overflow-hidden">
                <div id="preview-wrapper"
                    class="w-full h-full bg-white shadow-2xl transition-all duration-500 ease-in-out relative ring-1 ring-slate-800">
                    <iframe id="preview-frame" class="w-full h-full border-none"
                        sandbox="allow-scripts allow-same-origin"></iframe>
                </div>
            </div>
        </div>
    </main>

    <!-- === TEMPLATE LIBRARY (Hidden) === -->

    <!-- 1. THE CONSULTANT (Standard) -->
    <script type="text/template" id="tpl-consultant">
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <style>
                :root { --primary: {{colors.primary}}; --bg: {{colors.background}}; --text: {{colors.text}}; }
                body { background: var(--bg); color: var(--text); font-family: 'Helvetica Neue', sans-serif; margin: 0; line-height: 1.6; }
                .container { max-width: 900px; margin: 0 auto; padding: 0 20px; }
                header { padding: 2rem 0; display: flex; justify-content: space-between; align-items: center; }
                .logo { font-weight: 900; letter-spacing: -1px; font-size: 1.5rem; }
                .hero { padding: 4rem 0; display: flex; align-items: center; gap: 4rem; }
                .hero-content { flex: 1; }
                h1 { font-size: 3rem; line-height: 1.1; margin-bottom: 1rem; }
                .tagline { color: var(--primary); font-weight: bold; text-transform: uppercase; letter-spacing: 2px; font-size: 0.8rem; }
                .btn { background: var(--primary); color: var(--bg); padding: 10px 20px; text-decoration: none; font-weight: bold; display: inline-block; margin-top: 1rem; }
                .img-box { width: 300px; height: 350px; background: #333; position: relative; }
                .img-box img { width: 100%; height: 100%; object-fit: cover; position: absolute; top: 10px; right: 10px; box-shadow: -20px 20px 0 var(--primary); }

                /* Contact Section Upgrade */
                .contact-form { margin-top: 4rem; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 4rem; }
                input, textarea { width: 100%; padding: 10px; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); color: inherit; margin-bottom: 10px; }
                textarea { resize: vertical; min-height: 100px; }

                @media(max-width: 768px) { .hero { flex-direction: column; } .img-box { width: 100%; } }
            </style>
        </head>
        <body>
            <div class="container">
                <header>
                    <div class="logo">{{text.name}}</div>
                    <a href="#contact" class="btn">Contact</a>
                </header>
                <section class="hero">
                    <div class="hero-content">
                        <div class="tagline">{{text.tagline}}</div>
                        <h1>{{text.bio_short}}</h1>
                        <p>{{text.bio}}</p>
                    </div>
                    <div class="img-box"><img src="{{images.profile}}"></div>
                </section>
                <section class="contact-form" id="contact">
                    <h3>Send a Message</h3>
                    <form>
                        <input type="text" placeholder="Name">
                        <input type="email" placeholder="Email">
                        <!-- MANDATORY MESSAGE FIELD -->
                        <textarea placeholder="Tell us what you're thinking..."></textarea>
                        <button class="btn">Send Message</button>
                    </form>
                </section>
            </div>
        </body>
        </html>
    </script>

    <!-- 2. LIQUID GOLD (Premium/Dark) -->
    <script type="text/template" id="tpl-liquid-gold">
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <style>
                :root { --gold: {{colors.primary}}; --dark: #050505; --light: #f1f1f1; }
                body { background: var(--dark); color: var(--light); font-family: 'Garamond', serif; margin: 0; }
                .border-gold { border: 1px solid var(--gold); }
                .text-gold { color: var(--gold); }
                .container { max-width: 800px; margin: 0 auto; padding: 40px 20px; text-align: center; }
                h1 { font-size: 4rem; font-weight: 100; letter-spacing: 0.1em; margin: 0.5em 0; text-transform: uppercase; }
                .profile-img { width: 150px; height: 150px; border-radius: 50%; border: 2px solid var(--gold); object-fit: cover; margin: 0 auto; display: block; }
                .bio { font-size: 1.2rem; line-height: 1.8; color: #888; margin: 2rem 0; font-family: sans-serif; }
                .cta-btn { background: transparent; border: 1px solid var(--gold); color: var(--gold); padding: 15px 30px; letter-spacing: 2px; text-decoration: none; text-transform: uppercase; transition: 0.3s; display: inline-block; }
                .cta-btn:hover { background: var(--gold); color: var(--dark); }

                /* Message Area */
                .contact-area { margin-top: 60px; text-align: left; border-top: 1px solid #222; padding-top: 40px; }
                label { display: block; color: var(--gold); font-size: 0.7rem; letter-spacing: 2px; text-transform: uppercase; margin-bottom: 5px; }
                input, textarea { width: 100%; background: #111; border: none; border-bottom: 1px solid #333; padding: 10px; color: white; margin-bottom: 20px; transition: border 0.3s; font-family: sans-serif; }
                input:focus, textarea:focus { border-bottom-color: var(--gold); outline: none; }
            </style>
        </head>
        <body>
            <div class="container">
                <img src="{{images.profile}}" class="profile-img">
                <p style="margin-top: 20px; letter-spacing: 3px; color: var(--gold); text-transform: uppercase; font-size: 0.8rem;">{{text.tagline}}</p>
                <h1>{{text.name}}</h1>
                <p class="bio">{{text.bio}}</p>
                <a href="#contact" class="cta-btn">{{text.cta}}</a>

                <div class="contact-area" id="contact">
                    <label>Inquiry</label>
                    <input type="text" placeholder="Your Name">
                    <label>Details</label>
                    <textarea placeholder="How can we collaborate?"></textarea>
                    <button class="cta-btn" style="width: 100%; cursor: pointer;">Submit</button>
                </div>
            </div>
        </body>
        </html>
    </script>

    <!-- 3. VELVET (Minimalist) -->
    <script type="text/template" id="tpl-velvet">
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <style>
                :root { --accent: {{colors.primary}}; --bg: #fff; --text: #222; }
                /* Dark Mode Support via State */
                @media (prefers-color-scheme: dark) { :root { --bg: {{colors.background}}; --text: {{colors.text}}; } }

                body { background: var(--bg); color: var(--text); font-family: 'Arial', sans-serif; margin: 0; padding: 40px; }
                .layout { display: grid; grid-template-columns: 1fr 2fr; gap: 60px; max-width: 1000px; margin: 0 auto; height: calc(100vh - 80px); align-items: center; }
                h1 { font-size: 5rem; line-height: 0.9; margin: 0; letter-spacing: -2px; }
                .accent { color: var(--accent); }
                .meta { font-family: monospace; font-size: 0.9rem; margin-top: 20px; border-left: 2px solid var(--accent); padding-left: 15px; }
                .image-pane { height: 100%; background: #f0f0f0; border-radius: 20px; overflow: hidden; }
                .image-pane img { width: 100%; height: 100%; object-fit: cover; }

                /* Message Box */
                .input-group { margin-top: 30px; }
                textarea { width: 100%; border: 2px solid #eee; padding: 15px; border-radius: 10px; margin-top: 10px; font-family: inherit; }
                textarea:focus { border-color: var(--accent); outline: none; }

                @media(max-width: 768px) { .layout { grid-template-columns: 1fr; height: auto; } h1 { font-size: 3rem; } .image-pane { height: 400px; } }
            </style>
        </head>
        <body>
            <div class="layout">
                <div class="content">
                    <h1>{{text.name}}<span class="accent">.</span></h1>
                    <div class="meta">
                        <p>{{text.tagline}}</p>
                        <p>{{text.bio}}</p>
                    </div>
                    <div class="input-group">
                        <small style="text-transform: uppercase; letter-spacing: 1px; font-weight: bold;">Send Message</small>
                        <textarea placeholder="Type here..."></textarea>
                    </div>
                </div>
                <div class="image-pane">
                    <img src="{{images.profile}}">
                </div>
            </div>
        </body>
        </html>
    </script>

    <!-- Editor Source (For Distribution) -->
    <script type="text/template" id="tpl-editor-source">
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Axxilak Standalone Editor</title>
    <style>
        body { margin: 0; font-family: sans-serif; display: flex; height: 100vh; overflow: hidden; background: #1a1a1a; color: white; }
        #sidebar { width: 300px; background: #222; padding: 20px; border-right: 1px solid #333; overflow-y: auto; }
        .control { margin-bottom: 15px; }
        label { display: block; font-size: 10px; uppercase; color: #888; margin-bottom: 5px; }
        input, textarea { width: 100%; background: #333; border: 1px solid #444; color: white; padding: 8px; box-sizing: border-box; }
        iframe { flex: 1; border: none; background: white; }
        .btn { width: 100%; padding: 10px; background: #d4af37; border: none; font-weight: bold; cursor: pointer; margin-top: 20px; }
    </style>
</head>
<body>
    <div id="sidebar">
        <h3>Editor</h3>
        <div id="controls"></div>
        <button class="btn" onclick="exportSite()">EXPORT HTML</button>
    </div>
    <iframe id="preview"></iframe>
    <script>
        // INJECTED DATA
        const state = __STATE_PLACEHOLDER__;
        const template = `__TEMPLATE_PLACEHOLDER__`;

        // RUNTIME
        const frame = document.getElementById('preview');
        const controls = document.getElementById('controls');

        function render() {
            let html = template;
            // Simple replacement engine
            html = html.replace(/{{text.name}}/g, state.text.name);
            html = html.replace(/{{text.tagline}}/g, state.text.tagline);
            html = html.replace(/{{text.bio}}/g, state.text.bio);
            html = html.replace(/{{text.bio_short}}/g, state.text.bio.substring(0,50));
            html = html.replace(/{{text.cta}}/g, state.text.cta);
            html = html.replace(/{{colors.primary}}/g, state.colors.primary);
            html = html.replace(/{{colors.background}}/g, state.colors.background);
            html = html.replace(/{{colors.text}}/g, state.colors.text);
            html = html.replace(/{{images.profile}}/g, state.images.profile);

            const doc = frame.contentDocument;
            doc.open(); doc.write(html); doc.close();
        }

        function createControl(label, key, type='text') {
            const div = document.createElement('div');
            div.className = 'control';
            div.innerHTML = `<label>${label}</label>`;
            const inp = document.createElement(type === 'textarea' ? 'textarea' : 'input');
            if(type === 'color') inp.type = 'color';

            // Resolve nested key
            const keys = key.split('.');
            inp.value = state[keys[0]][keys[1]];

            inp.oninput = (e) => {
                state[keys[0]][keys[1]] = e.target.value;
                render();
            };
            div.appendChild(inp);
            controls.appendChild(div);
        }

        // Init
        createControl('Primary Color', 'colors.primary', 'color');
        createControl('Background', 'colors.background', 'color');
        createControl('Name', 'text.name');
        createControl('Tagline', 'text.tagline');
        createControl('Bio', 'text.bio', 'textarea');

        render();

        function exportSite() {
            const doc = frame.contentDocument;
            const blob = new Blob([doc.documentElement.outerHTML], {type: 'text/html'});
            const a = document.createElement('a');
            a.href = URL.createObjectURL(blob);
            a.download = 'index.html';
            a.click();
        }
    <\/script>
</body>
</html>
    </script>

    <script>
        // --- MASTER LOGIC ---

        const defaults = {
            colors: { primary: "#d4af37", background: "#0a0a0a", text: "#f5f5f5" },
            text: {
                name: "Alex Vayner",
                tagline: "Strategic Consultant",
                bio: "Helping businesses navigate complexity through data-driven strategies.",
                bio_short: "Strategy Meets Design",
                cta: "Work With Me"
            },
            images: { profile: "https://via.placeholder.com/400x400/333/d4af37?text=Profile" },
            activeTemplate: "consultant"
        };

        let currentState = JSON.parse(JSON.stringify(defaults));

        // Smart Image Compression Engine
        async function handleSmartImageUpload(input) {
            if (input.files && input.files[0]) {
                const file = input.files[0];
                document.getElementById('compression-indicator').classList.remove('hidden');

                const compressedBase64 = await compressImage(file);

                currentState.images.profile = compressedBase64;
                document.getElementById('compression-indicator').classList.add('hidden');
                updateStateSize();
                renderPreview();
            }
        }

        function compressImage(file) {
            return new Promise((resolve) => {
                const reader = new FileReader();
                reader.readAsDataURL(file);
                reader.onload = (event) => {
                    const img = new Image();
                    img.src = event.target.result;
                    img.onload = () => {
                        const canvas = document.createElement('canvas');
                        const ctx = canvas.getContext('2d');

                        // Resize logic (Max 800px)
                        const MAX_WIDTH = 800;
                        const MAX_HEIGHT = 800;
                        let width = img.width;
                        let height = img.height;

                        if (width > height) {
                            if (width > MAX_WIDTH) { height *= MAX_WIDTH / width; width = MAX_WIDTH; }
                        } else {
                            if (height > MAX_HEIGHT) { width *= MAX_HEIGHT / height; height = MAX_HEIGHT; }
                        }

                        canvas.width = width;
                        canvas.height = height;
                        ctx.drawImage(img, 0, 0, width, height);

                        // Compression (0.7 quality)
                        resolve(canvas.toDataURL('image/jpeg', 0.7));
                    };
                };
            });
        }

        async function switchTemplate(tplName) {
            currentState.activeTemplate = tplName;

            // Load template from webling folder if not already cached
            await loadTemplate(tplName);

            // Adjust defaults for each template's primary color
            const colorSchemes = {
                'consultant': { primary: '#8c2f00', background: '#fdfbf7' },
                'oracle': { primary: '#d4af37', background: '#0a0a0a' },
                'apex': { primary: '#2563eb', background: '#ffffff' },
                'aura': { primary: '#ec4899', background: '#ffffff' },
                'canvas': { primary: '#333333', background: '#ffffff' },
                'cipher': { primary: '#00ff41', background: '#000000' },
                'gaia': { primary: '#4caf50', background: '#0f3d0f' },
                'neon-tokyo': { primary: '#ff006e', background: '#0a0e27' },
                'summit': { primary: '#0066cc', background: '#ffffff' },
                'ether': { primary: '#a5b4fc', background: '#fafafa' },
                'liquid-gold': { primary: '#d4af37', background: '#030303' },
                'iron-ink': { primary: '#ff3300', background: '#e5e5e5' },
                'velvet': { primary: '#d4af37', background: '#080808' }
            };
            const scheme = colorSchemes[tplName] || colorSchemes['consultant'];
            currentState.colors.primary = scheme.primary;
            currentState.colors.background = scheme.background;

            syncInputs();
            renderPreview();
        }

        async function loadTemplate(templateName) {
            // Check if template already cached
            if (document.getElementById(`tpl-${templateName}`)) {
                return; // Already loaded
            }

            // Map template names to lightweight template stubs for instant Forge editing
            const templateMap = {
                'consultant': './Weblings/templates/scholar.html',
                'oracle': './Weblings/templates/oracle.html',
                'apex': './Weblings/templates/apex.html',
                'aura': './Weblings/templates/aura.html',
                'canvas': './Weblings/templates/canvas.html',
                'cipher': './Weblings/templates/cipher.html',
                'gaia': './Weblings/templates/gaia.html',
                'neon-tokyo': './Weblings/templates/neon-tokyo.html',
                'summit': './Weblings/templates/summit.html',
                'ether': './Weblings/templates/ether.html',
                'liquid-gold': './Weblings/templates/liquid-gold.html',
                'iron-ink': './Weblings/templates/iron-ink.html',
                'velvet': './Weblings/templates/velvet.html'
            };

            const path = templateMap[templateName];
            if (!path) {
                console.error(`Template ${templateName} not found`);
                return;
            }

            try {
                const response = await fetch(path);
                const html = await response.text();

                // Create template element and cache it
                const template = document.createElement('script');
                template.type = 'text/template';
                template.id = `tpl-${templateName}`;
                template.innerHTML = html;
                document.body.appendChild(template);
            } catch (e) {
                console.error(`Failed to load template ${templateName}:`, e);
            }
        }

        function renderPreview() {
            const templateEl = document.getElementById(`tpl-${currentState.activeTemplate}`);
            if (!templateEl) {
                console.error(`Template tpl-${currentState.activeTemplate} not found`);
                return;
            }

            let tpl = templateEl.innerHTML;

            // Regex Replacement
            for (const [section, data] of Object.entries(currentState)) {
                if (typeof data === 'object') {
                    for (const [key, val] of Object.entries(data)) {
                        const regex = new RegExp(`{{${section}.${key}}}`, 'g');
                        tpl = tpl.replace(regex, val);
                    }
                }
            }

            // Computed props
            tpl = tpl.replace(/{{text.bio_short}}/g, currentState.text.bio.substring(0, 50));

            const frame = document.getElementById('preview-frame');
            const doc = frame.contentDocument || frame.contentWindow.document;
            doc.open(); doc.write(tpl); doc.close();

            updateStateSize();
        }

        function updateState(path, value) {
            const [sec, key] = path.split('.');
            currentState[sec][key] = value;
            if (sec === 'colors') {
                document.getElementById(key === 'primary' ? 'txt-primary' : 'txt-bg').value = value;
            }
            renderPreview();
        }

        function syncInputs() {
            document.getElementById('ctrl-primary').value = currentState.colors.primary;
            document.getElementById('txt-primary').value = currentState.colors.primary;
            document.getElementById('ctrl-bg').value = currentState.colors.background;
            document.getElementById('txt-bg').value = currentState.colors.background;
            document.getElementById('ctrl-name').value = currentState.text.name;
            document.getElementById('ctrl-tagline').value = currentState.text.tagline;
            document.getElementById('ctrl-bio').value = currentState.text.bio;
        }

        function updateStateSize() {
            const json = JSON.stringify(currentState);
            const size = new Blob([json]).size;
            document.getElementById('state-size').innerText = (size / 1024).toFixed(1) + " KB";
        }

        function setPreviewMode(mode) {
            const wrapper = document.getElementById('preview-wrapper');
            const deskBtn = document.getElementById('btn-desktop');
            const mobileBtn = document.getElementById('btn-mobile');

            if (mode === 'mobile') {
                wrapper.style.maxWidth = '375px';
                wrapper.style.height = '80%';
                wrapper.style.borderRadius = '20px';
                wrapper.style.border = '8px solid #333';
                deskBtn.classList.remove('active-mode', 'text-white');
                mobileBtn.classList.add('active-mode', 'text-white');
            } else {
                wrapper.style.maxWidth = '100%';
                wrapper.style.height = '100%';
                wrapper.style.borderRadius = '0';
                wrapper.style.border = 'none';
                mobileBtn.classList.remove('active-mode', 'text-white');
                deskBtn.classList.add('active-mode', 'text-white');
            }
        }

        function resetTemplate() {
            if (confirm("Reset everything?")) {
                location.reload();
            }
        }

        // --- EXPORT LOGIC ---
        function downloadHtmlOnly() {
            const doc = document.getElementById('preview-frame').contentDocument;
            const blob = new Blob([doc.documentElement.outerHTML], { type: "text/html" });
            const link = document.createElement("a");
            link.href = URL.createObjectURL(blob);
            link.download = `${currentState.text.name.replace(/\s+/g, '_')}_webling.html`;
            link.click();
        }

        // --- SALES MACHINE LOGIC V2 (Premium Pricing) ---
        function buyAndDownload() {
            // 1. Serialize the State (The "DNA" of the site)
            const json = JSON.stringify(currentState);

            // 2. Encode to Base64 (Safe for URLs)
            const b64 = btoa(json);

            // 3. Construct the Delivery URL

            // --- OPTION A: PRODUCTION (Real Money) ---
            // This is where we send them to Gumroad to pay $50.
            // The 'custom' param carries their design.
            // Uncomment when your Gumroad product is ready:
            // const deliveryUrl = `https://gumroad.com/l/YOUR_PRODUCT_ID?price=50&custom=${b64}`;

            // --- OPTION B: SIMULATION (Testing) ---
            // For now, we skip payment to test the "POOF" delivery mechanism.
            const deliveryUrl = `../download.html?custom=${b64}`;

            // 4. The Handoff
            console.log("Handing off to Delivery Room...");
            window.location.href = deliveryUrl;
        }

        async function downloadDistribution() {
            const zip = new JSZip();

            // Get Current Template Source
            const rawTemplate = document.getElementById(`tpl-${currentState.activeTemplate}`).innerHTML;
            let editorCode = document.getElementById('tpl-editor-source').innerHTML;

            // Inject State & Template into Editor
            const stateStr = JSON.stringify(currentState);
            editorCode = editorCode.replace('__STATE_PLACEHOLDER__', stateStr);
            const cleanTpl = rawTemplate.replace(/`/g, '\\`').replace(/\${/g, '\\${');
            editorCode = editorCode.replace('__TEMPLATE_PLACEHOLDER__', cleanTpl);

            zip.file("editor.html", editorCode);
            zip.file("index.html", rawTemplate);
            zip.file("README.md", `# Your Webling\n\nDouble click editor.html to edit.`);

            const content = await zip.generateAsync({ type: "blob" });
            const link = document.createElement("a");
            link.href = URL.createObjectURL(content);
            link.download = "Axxilak_Bundle.zip";
            link.click();
        }

        // Init
        const bgDotStyle = document.createElement('style');
        bgDotStyle.innerHTML = `.bg-dots { background-image: radial-gradient(#334155 1px, transparent 1px); background-size: 20px 20px; } .active-mode { background: #475569; color: white !important; }`;
        document.head.appendChild(bgDotStyle);

        // Load default template and initialize
        (async () => {
            await loadTemplate(currentState.activeTemplate);
            syncInputs();
            renderPreview();
        })();

    </script>
</body>

</html>


---
FILE: axxilak_forge_v3.0.html
CATEGORY: HTML | ROLE: src
---
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Axxilak Forge v3.0 | Ergonomic Workspace</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* === SPATIAL UI SYSTEM === */
        :root {
            --gold: #d4af37;
            --dark: #0f172a;
            --panel: #1e293b;
        }

        body {
            background-color: var(--dark);
            color: #f8fafc;
            font-family: 'Inter', sans-serif;
            overflow: hidden;
        }

        /* Pseudo-Haptics: The "Heavy Click" Feel */
        .tactile-btn {
            transition: all 0.1s cubic-bezier(0.4, 0, 0.2, 1);
            transform: scale(1);
        }

        .tactile-btn:active {
            transform: scale(0.97) translateY(1px);
            opacity: 0.9;
        }

        /* The Infinite Grid Background */
        .infinite-grid {
            background-color: #050505;
            background-image:
                linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
            background-size: 40px 40px;
            box-shadow: inset 0 0 100px #000;
        }

        /* Ergonomic Scrollbar (Wider hit area) */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: #0f172a;
        }

        ::-webkit-scrollbar-thumb {
            background: #334155;
            border-radius: 5px;
            border: 2px solid #0f172a;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--gold);
        }

        /* Range Slider (Precision Input) */
        input[type=range] {
            -webkit-appearance: none;
            background: transparent;
            cursor: pointer;
        }

        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 16px;
            width: 16px;
            border-radius: 50%;
            background: var(--gold);
            margin-top: -6px;
            box-shadow: 0 0 10px rgba(212, 175, 55, 0.5);
            transition: transform 0.1s;
        }

        input[type=range]::-webkit-slider-thumb:hover {
            transform: scale(1.2);
        }

        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 4px;
            background: #334155;
            border-radius: 2px;
        }

        /* Loader */
        .loader {
            border: 3px solid rgba(255, 255, 255, 0.1);
            border-top: 3px solid var(--gold);
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        /* Golden Pulse for the "Buy" Action */
        @keyframes goldenPulse {
            0% {
                box-shadow: 0 0 0 0 rgba(212, 175, 55, 0.4);
            }

            70% {
                box-shadow: 0 0 0 10px rgba(212, 175, 55, 0);
            }

            100% {
                box-shadow: 0 0 0 0 rgba(212, 175, 55, 0);
            }
        }

        .buy-pulse {
            animation: goldenPulse 2s infinite;
        }
    </style>
</head>

<body class="h-screen flex flex-col">

    <!-- HEADER: The Command Bar -->
    <header
        class="h-16 bg-[#0b1120] border-b border-white/5 flex items-center justify-between px-6 shrink-0 z-30 shadow-2xl">
        <div class="flex items-center gap-4">
            <!-- Brand Mark -->
            <div
                class="w-10 h-10 bg-gradient-to-br from-[#d4af37] to-[#8b7355] rounded-lg flex items-center justify-center font-bold text-slate-900 text-xl shadow-[0_0_15px_rgba(212,175,55,0.3)]">
                A</div>

            <!-- Context Info -->
            <div>
                <h1 class="font-bold text-lg text-white tracking-wide leading-none">Axxilak <span
                        class="text-[#d4af37]">Forge</span></h1>
                <div
                    class="flex items-center gap-2 text-[10px] text-slate-500 uppercase tracking-widest font-mono mt-1">
                    <span>v3.0 Sovereign</span>
                    <span class="w-1 h-1 bg-slate-600 rounded-full"></span>
                    <span id="save-status" class="text-green-500 transition-colors duration-500">System Ready</span>
                </div>
            </div>
        </div>

        <!-- The "Action" Zone (Fitts' Law optimized) -->
        <div class="flex items-center gap-4">
            <!-- Ergonomic Toggles -->
            <div class="hidden md:flex bg-white/5 rounded-lg p-1 border border-white/5">
                <button onclick="toggleHandedness()" title="Toggle Southpaw Layout (Shift+S)"
                    class="tactile-btn w-8 h-8 flex items-center justify-center rounded hover:bg-white/10 text-slate-400 hover:text-white transition-colors">
                    <i class="fa-solid fa-hand text-xs"></i>
                </button>
            </div>

            <!-- Free Tier -->
            <button onclick="downloadHtmlOnly()"
                class="tactile-btn text-slate-400 hover:text-white px-4 py-2 text-xs font-medium transition-colors border border-white/10 rounded hover:border-white/30 hidden md:flex items-center gap-2">
                <i class="fa-solid fa-code"></i> HTML Only
            </button>

            <!-- The Premium Trigger ($50) -->
            <button onclick="buyAndDownload()"
                class="tactile-btn buy-pulse bg-[#d4af37] hover:bg-[#b5952f] text-slate-900 font-bold py-2 px-6 rounded text-sm shadow-lg flex items-center gap-2">
                <i class="fa-solid fa-briefcase"></i> <span class="tracking-wide">Purchase License ($50)</span>
            </button>
        </div>
    </header>

    <!-- MAIN WORKSPACE -->
    <!-- Flex direction toggles based on "Southpaw" mode -->
    <main id="workspace" class="flex-1 flex overflow-hidden flex-row">

        <!-- SIDEBAR: The Control Panel -->
        <aside id="sidebar-panel"
            class="w-80 bg-[#0f172a] border-r border-white/5 flex flex-col shrink-0 z-20 shadow-xl transition-all duration-300">

            <!-- 1. Template Selector (Top Tier) -->
            <div class="p-5 border-b border-white/5 bg-[#141e33]">
                <label
                    class="text-[9px] text-[#d4af37] uppercase font-bold tracking-[0.2em] mb-3 block">Architecture</label>
                <div class="relative group">
                    <select id="template-selector" onchange="switchTemplate(this.value)"
                        class="w-full bg-[#0b1120] text-gray-200 text-sm font-medium border border-white/10 rounded-lg p-3 appearance-none focus:border-[#d4af37] focus:ring-1 focus:ring-[#d4af37] outline-none cursor-pointer transition-all hover:border-white/20">
                        <option value="consultant">The Consultant</option>
                        <option value="liquid-gold">Liquid Gold (Premium)</option>
                        <option value="velvet">Velvet (Minimalist)</option>
                    </select>
                    <div
                        class="absolute right-3 top-3.5 text-slate-500 pointer-events-none group-hover:text-[#d4af37] transition-colors">
                        <i class="fa-solid fa-chevron-down text-xs"></i>
                    </div>
                </div>
            </div>

            <!-- 2. The Controls (Scrollable) -->
            <div class="flex-1 overflow-y-auto p-6 custom-scroll space-y-8">

                <!-- Dynamic Controls injected here -->
                <div id="controls-container"></div>

                <!-- Hardcoded Core Controls (Fallback/Demo) -->
                <div>
                    <h2
                        class="text-xs font-bold text-white uppercase tracking-widest mb-4 flex items-center gap-2 opacity-80">
                        <i class="fa-solid fa-pen-nib text-[#d4af37]"></i> Identity
                    </h2>
                    <div class="space-y-5">
                        <div class="group">
                            <label
                                class="text-[10px] text-slate-400 uppercase tracking-wider font-semibold mb-1.5 block group-hover:text-[#d4af37] transition-colors">Display
                                Name</label>
                            <input type="text" id="ctrl-name"
                                class="w-full bg-[#0b1120] border border-white/10 rounded-md p-2.5 text-sm text-white focus:border-[#d4af37] outline-none transition-all placeholder-white/20"
                                oninput="updateState('text.name', this.value)">
                        </div>
                        <div class="group">
                            <label
                                class="text-[10px] text-slate-400 uppercase tracking-wider font-semibold mb-1.5 block group-hover:text-[#d4af37] transition-colors">Role
                                / Tagline</label>
                            <input type="text" id="ctrl-tagline"
                                class="w-full bg-[#0b1120] border border-white/10 rounded-md p-2.5 text-sm text-white focus:border-[#d4af37] outline-none transition-all"
                                oninput="updateState('text.tagline', this.value)">
                        </div>
                        <div class="group">
                            <label
                                class="text-[10px] text-slate-400 uppercase tracking-wider font-semibold mb-1.5 block group-hover:text-[#d4af37] transition-colors">Professional
                                Bio</label>
                            <textarea id="ctrl-bio" rows="4"
                                class="w-full bg-[#0b1120] border border-white/10 rounded-md p-2.5 text-sm text-white focus:border-[#d4af37] outline-none transition-all resize-none"
                                oninput="updateState('text.bio', this.value)"></textarea>
                        </div>
                    </div>
                </div>

                <div>
                    <h2
                        class="text-xs font-bold text-white uppercase tracking-widest mb-4 flex items-center gap-2 opacity-80">
                        <i class="fa-solid fa-palette text-[#d4af37]"></i> Aesthetics
                    </h2>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label
                                class="text-[10px] text-slate-400 uppercase tracking-wider font-semibold mb-2 block">Primary</label>
                            <div class="flex items-center gap-2 bg-[#0b1120] p-1.5 rounded-md border border-white/10">
                                <input type="color" id="ctrl-primary"
                                    class="w-6 h-6 rounded cursor-pointer border-none bg-transparent p-0"
                                    oninput="updateState('colors.primary', this.value)">
                                <span class="text-[10px] font-mono text-slate-400 flex-1 text-right"
                                    id="lbl-primary">#D4AF37</span>
                            </div>
                        </div>
                        <div>
                            <label
                                class="text-[10px] text-slate-400 uppercase tracking-wider font-semibold mb-2 block">Canvas</label>
                            <div class="flex items-center gap-2 bg-[#0b1120] p-1.5 rounded-md border border-white/10">
                                <input type="color" id="ctrl-bg"
                                    class="w-6 h-6 rounded cursor-pointer border-none bg-transparent p-0"
                                    oninput="updateState('colors.background', this.value)">
                                <span class="text-[10px] font-mono text-slate-400 flex-1 text-right"
                                    id="lbl-bg">#0A0A0A</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div>
                    <h2
                        class="text-xs font-bold text-white uppercase tracking-widest mb-4 flex items-center gap-2 opacity-80">
                        <i class="fa-solid fa-image text-[#d4af37]"></i> Media
                    </h2>
                    <div class="relative group cursor-pointer">
                        <input type="file" id="ctrl-img-upload" accept="image/*" class="hidden"
                            onchange="handleSmartImageUpload(this)">
                        <label for="ctrl-img-upload"
                            class="flex flex-col items-center justify-center w-full h-28 border border-dashed border-white/20 rounded-lg cursor-pointer hover:border-[#d4af37] hover:bg-[#d4af37]/5 transition-all bg-[#0b1120]">
                            <i
                                class="fa-solid fa-cloud-arrow-up text-slate-500 mb-2 text-xl group-hover:text-[#d4af37] transition-colors"></i>
                            <span class="text-xs text-slate-400 group-hover:text-white font-medium">Upload
                                Portrait</span>
                            <span class="text-[9px] text-slate-600 mt-1">Smart Compress Active</span>
                        </label>
                        <div id="compression-indicator"
                            class="hidden absolute inset-0 bg-[#0f172a]/90 flex items-center justify-center rounded-lg z-10 backdrop-blur-sm">
                            <div class="text-center">
                                <div class="loader mb-2 mx-auto"></div>
                                <span class="text-[9px] text-[#d4af37] uppercase tracking-widest">Optimizing...</span>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

            <!-- 3. Telemetry (Bottom Bar) -->
            <div
                class="p-3 border-t border-white/5 bg-[#0b1120] flex justify-between items-center text-[9px] text-slate-500 font-mono">
                <div class="flex items-center gap-2">
                    <span class="w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"></span>
                    <span>MEMORY: <span id="state-size" class="text-slate-300">0.0 KB</span></span>
                </div>
                <span>LOCAL_STORAGE: ACTIVE</span>
            </div>
        </aside>

        <!-- CENTER: The Infinite Canvas -->
        <div class="flex-1 flex flex-col relative infinite-grid transition-all duration-300">

            <!-- Floating Toolbar (Island Design) -->
            <div
                class="absolute top-6 left-1/2 -translate-x-1/2 z-20 flex items-center gap-1 bg-[#0f172a]/90 backdrop-blur-md border border-white/10 p-1.5 rounded-full shadow-2xl">
                <button onclick="setPreviewMode('desktop')" id="btn-desktop"
                    class="tactile-btn px-4 py-1.5 rounded-full text-white text-xs font-medium bg-white/10 hover:bg-white/20 transition-all flex items-center gap-2">
                    <i class="fa-solid fa-desktop"></i>
                </button>
                <button onclick="setPreviewMode('mobile')" id="btn-mobile"
                    class="tactile-btn px-4 py-1.5 rounded-full text-slate-400 hover:text-white hover:bg-white/10 transition-all text-xs font-medium flex items-center gap-2">
                    <i class="fa-solid fa-mobile-screen"></i>
                </button>
                <div class="w-px h-4 bg-white/10 mx-1"></div>
                <button onclick="resetTemplate()"
                    class="tactile-btn w-8 h-8 rounded-full flex items-center justify-center text-red-400 hover:bg-red-500/10 hover:text-red-300 transition-all"
                    title="Reset">
                    <i class="fa-solid fa-rotate-left text-xs"></i>
                </button>
            </div>

            <!-- Iframe Container -->
            <div class="flex-1 flex items-center justify-center p-8 overflow-hidden">
                <div id="preview-wrapper"
                    class="w-full h-full bg-white shadow-[0_0_50px_rgba(0,0,0,0.5)] transition-all duration-500 ease-in-out relative border border-[#333]">
                    <iframe id="preview-frame" class="w-full h-full border-none bg-white"
                        sandbox="allow-scripts allow-same-origin"></iframe>
                </div>
            </div>
        </div>
    </main>

    <!-- === HIDDEN TEMPLATES === -->

    <!-- 1. CONSULTANT -->
    <script type="text/template" id="tpl-consultant">
        <!DOCTYPE html><html lang="en"><head><style>:root{--primary:{{colors.primary}};--bg:{{colors.background}};--text:{{colors.text}};}body{font-family:'Helvetica Neue',sans-serif;background:var(--bg);color:var(--text);margin:0;display:flex;flex-direction:column;min-height:100vh}.container{max-width:900px;margin:0 auto;padding:2rem}h1{font-size:3rem;line-height:1.1}.btn{background:var(--primary);color:#000;padding:10px 20px;text-decoration:none;font-weight:bold;display:inline-block}.img-box img{max-width:100%;box-shadow:-20px 20px 0 var(--primary)}input,textarea{width:100%;padding:10px;margin-bottom:10px;background:rgba(255,255,255,0.05);border:1px solid #333;color:inherit}</style></head><body><div class="container"><header style="display:flex;justify-content:space-between;align-items:center;padding:2rem 0"><div style="font-weight:900;font-size:1.5rem">{{text.name}}</div><a href="#contact" class="btn">Contact</a></header><section style="display:flex;gap:4rem;align-items:center;padding:4rem 0"> <div style="flex:1"><p style="color:var(--primary);font-weight:bold;text-transform:uppercase;letter-spacing:2px;font-size:0.8rem">{{text.tagline}}</p><h1>{{text.bio_short}}</h1><p>{{text.bio}}</p></div><div class="img-box" style="flex:1"><img src="{{images.profile}}"></div></section><section id="contact" style="margin-top:4rem;border-top:1px solid #333;padding-top:4rem"><h3>Send a Message</h3><form><input type="text" placeholder="Name"><input type="email" placeholder="Email"><textarea placeholder="Message..." rows="4"></textarea><button class="btn">Send</button></form></section></div></body></html>
    </script>

    <!-- 2. LIQUID GOLD -->
    <script type="text/template" id="tpl-liquid-gold">
        <!DOCTYPE html><html lang="en"><head><style>:root{--gold:{{colors.primary}};--dark:{{colors.background}};--light:#f1f1f1}body{background:var(--dark);color:var(--light);font-family:'Garamond',serif;text-align:center;margin:0}.container{max-width:800px;margin:0 auto;padding:60px 20px}img{width:150px;height:150px;border-radius:50%;border:2px solid var(--gold);object-fit:cover;margin:0 auto;display:block}h1{font-size:4rem;font-weight:100;letter-spacing:0.1em;text-transform:uppercase;margin:20px 0}.cta{border:1px solid var(--gold);color:var(--gold);padding:15px 30px;text-decoration:none;text-transform:uppercase;letter-spacing:2px;display:inline-block;transition:0.3s}.cta:hover{background:var(--gold);color:black}input,textarea{width:100%;background:#111;border:none;border-bottom:1px solid #333;padding:15px;color:white;margin-bottom:20px;font-family:sans-serif}input:focus,textarea:focus{border-bottom-color:var(--gold);outline:none}</style></head><body><div class="container"><img src="{{images.profile}}"><p style="color:var(--gold);letter-spacing:3px;text-transform:uppercase;font-size:0.8rem;margin-top:20px">{{text.tagline}}</p><h1>{{text.name}}</h1><p style="font-family:sans-serif;line-height:1.8;color:#888;margin-bottom:40px">{{text.bio}}</p><a href="#contact" class="cta">{{text.cta}}</a><div id="contact" style="margin-top:80px;text-align:left"><label style="color:var(--gold);font-size:0.7rem;letter-spacing:2px;text-transform:uppercase;display:block;margin-bottom:10px">Inquiry</label><input type="text" placeholder="Your Name"><input type="email" placeholder="Your Email"><textarea placeholder="How can we help?" rows="4"></textarea><button class="cta" style="width:100%;cursor:pointer">Send Message</button></div></div></body></html>
    </script>

    <!-- 3. VELVET -->
    <script type="text/template" id="tpl-velvet">
        <!DOCTYPE html><html lang="en"><head><style>:root{--accent:{{colors.primary}};--bg:{{colors.background}};--text:{{colors.text}}}body{background:var(--bg);color:var(--text);font-family:'Arial',sans-serif;margin:0;padding:40px;height:100vh;box-sizing:border-box;display:flex;align-items:center;justify-content:center}.layout{display:grid;grid-template-columns:1fr 1fr;gap:60px;max-width:1200px;width:100%}h1{font-size:5rem;line-height:0.9;margin:0;letter-spacing:-2px}.meta{border-left:2px solid var(--accent);padding-left:20px;margin-top:30px;font-family:monospace}img{width:100%;height:500px;object-fit:cover;border-radius:20px}textarea{width:100%;background:#f4f4f5;border:none;padding:20px;border-radius:10px;margin-top:20px;font-family:inherit}@media(max-width:768px){.layout{grid-template-columns:1fr;height:auto}h1{font-size:3rem}}</style></head><body><div class="layout"><div><h1>{{text.name}}<span style="color:var(--accent)">.</span></h1><div class="meta"><p>{{text.tagline}}</p><p>{{text.bio}}</p></div><textarea placeholder="Write a message..."></textarea></div><div><img src="{{images.profile}}"></div></div></body></html>
    </script>

    <!-- 4. EDITOR SOURCE (THE QUINE) -->
    <script type="text/template" id="tpl-editor-source">
<!DOCTYPE html><html lang="en"><head><title>Axxilak Editor</title><style>body{margin:0;font-family:sans-serif;display:flex;height:100vh;background:#111;color:#fff}#sidebar{width:300px;background:#222;padding:20px;border-right:1px solid #333}input,textarea{width:100%;background:#333;border:1px solid #444;color:#fff;padding:8px;margin-bottom:10px}iframe{flex:1;border:none;background:#fff}.btn{width:100%;padding:10px;background:#d4af37;border:none;font-weight:bold;cursor:pointer;margin-top:20px}</style></head><body><div id="sidebar"><h3>Axxilak Editor</h3><div id="controls"></div><button class="btn" onclick="exportSite()">EXPORT HTML</button></div><iframe id="preview"></iframe><script>const state=__STATE_PLACEHOLDER__;const template=`__TEMPLATE_PLACEHOLDER__`;const frame=document.getElementById('preview');const controls=document.getElementById('controls');function render(){let h=template;for(let s in state){for(let k in state[s]){h=h.replaceAll(`{{${s}.${k}}}`,state[s][k]);}}h=h.replaceAll('{{text.bio_short}}',state.text.bio.substring(0,50));const d=frame.contentDocument;d.open();d.write(h);d.close();}function createControl(lbl,key,type='text'){const d=document.createElement('div');d.innerHTML=`<label style="font-size:10px;text-transform:uppercase;color:#888">${lbl}</label>`;const i=document.createElement(type==='textarea'?'textarea':'input');if(type==='color')i.type='color';const[s,k]=key.split('.');i.value=state[s][k];i.oninput=e=>{state[s][k]=e.target.value;render()};d.appendChild(i);controls.appendChild(d);}createControl('Primary','colors.primary','color');createControl('Background','colors.background','color');createControl('Name','text.name');createControl('Tagline','text.tagline');createControl('Bio','text.bio','textarea');render();function exportSite(){const b=new Blob([frame.contentDocument.documentElement.outerHTML],{type:'text/html'});const a=document.createElement('a');a.href=URL.createObjectURL(b);a.download='index.html';a.click();}<\/script></body></html>
    </script>

    <script>
        // --- MASTER LOGIC V3.0 (ERGONOMIC) ---

        const defaults = {
            colors: { primary: "#d4af37", background: "#0a0a0a", text: "#f5f5f5" },
            text: { name: "Alex Vayner", tagline: "Strategic Consultant", bio: "Helping businesses navigate complexity through data-driven strategies and intuitive design thinking.", bio_short: "Strategy Meets Design", cta: "Work With Me" },
            images: { profile: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&w=400&q=80" },
            activeTemplate: "consultant"
        };

        let currentState = JSON.parse(JSON.stringify(defaults));
        let southpawMode = false;

        // --- 1. ERGONOMIC FUNCTIONS ---

        function toggleHandedness() {
            southpawMode = !southpawMode;
            const workspace = document.getElementById('workspace');
            const sidebar = document.getElementById('sidebar-panel');

            if (southpawMode) {
                // Dock Right
                workspace.classList.remove('flex-row');
                workspace.classList.add('flex-row-reverse');
                sidebar.classList.add('border-l');
                sidebar.classList.remove('border-r');
            } else {
                // Dock Left (Default)
                workspace.classList.remove('flex-row-reverse');
                workspace.classList.add('flex-row');
                sidebar.classList.remove('border-l');
                sidebar.classList.add('border-r');
            }
        }

        // Keyboard Shortcut (Shift + S)
        document.addEventListener('keydown', (e) => {
            if (e.shiftKey && e.key.toLowerCase() === 's') {
                toggleHandedness();
            }
        });

        // --- 2. CORE ENGINE ---

        function renderPreview() {
            let tpl = document.getElementById(`tpl-${currentState.activeTemplate}`).innerHTML;

            // Regex Replacement
            for (const [section, data] of Object.entries(currentState)) {
                if (typeof data === 'object') {
                    for (const [key, val] of Object.entries(data)) {
                        const regex = new RegExp(`{{${section}.${key}}}`, 'g');
                        tpl = tpl.replace(regex, val);
                    }
                }
            }
            // Computed props
            tpl = tpl.replace(/{{text.bio_short}}/g, currentState.text.bio.substring(0, 50));

            const frame = document.getElementById('preview-frame');
            const doc = frame.contentDocument || frame.contentWindow.document;
            doc.open(); doc.write(tpl); doc.close();

            // Visual Confirmation (Flash "System Ready")
            const status = document.getElementById('save-status');
            status.innerText = "Saving...";
            status.classList.add('text-yellow-500');
            status.classList.remove('text-green-500');

            setTimeout(() => {
                status.innerText = "System Ready";
                status.classList.remove('text-yellow-500');
                status.classList.add('text-green-500');
                updateStateSize();
            }, 300);
        }

        function updateState(path, value) {
            const [sec, key] = path.split('.');
            currentState[sec][key] = value;

            // Sync Labels
            if (sec === 'colors') {
                document.getElementById(key === 'primary' ? 'lbl-primary' : 'lbl-bg').innerText = value.toUpperCase();
            }
            renderPreview();
        }

        async function handleSmartImageUpload(input) {
            if (input.files && input.files[0]) {
                const file = input.files[0];
                document.getElementById('compression-indicator').classList.remove('hidden');

                const reader = new FileReader();
                reader.readAsDataURL(file);
                reader.onload = (e) => {
                    const img = new Image();
                    img.src = e.target.result;
                    img.onload = () => {
                        const canvas = document.createElement('canvas');
                        const ctx = canvas.getContext('2d');
                        const MAX = 800;
                        let w = img.width, h = img.height;
                        if (w > h) { if (w > MAX) { h *= MAX / w; w = MAX; } } else { if (h > MAX) { w *= MAX / h; h = MAX; } }
                        canvas.width = w; canvas.height = h;
                        ctx.drawImage(img, 0, 0, w, h);
                        currentState.images.profile = canvas.toDataURL('image/jpeg', 0.7);

                        document.getElementById('compression-indicator').classList.add('hidden');
                        renderPreview();
                    };
                };
            }
        }

        function switchTemplate(val) {
            currentState.activeTemplate = val;
            if (val === 'velvet') { currentState.colors.primary = "#ff3366"; currentState.colors.background = "#ffffff"; }
            else if (val === 'liquid-gold') { currentState.colors.primary = "#d4af37"; currentState.colors.background = "#050505"; }

            // Sync Color Inputs
            document.getElementById('ctrl-primary').value = currentState.colors.primary;
            document.getElementById('ctrl-bg').value = currentState.colors.background;

            renderPreview();
        }

        function updateStateSize() {
            const json = JSON.stringify(currentState);
            const size = new Blob([json]).size;
            document.getElementById('state-size').innerText = (size / 1024).toFixed(1) + " KB";
        }

        function setPreviewMode(mode) {
            const wrapper = document.getElementById('preview-wrapper');
            const dBtn = document.getElementById('btn-desktop');
            const mBtn = document.getElementById('btn-mobile');

            if (mode === 'mobile') {
                wrapper.style.maxWidth = '375px'; wrapper.style.height = '80%'; wrapper.style.borderRadius = '30px';
                mBtn.classList.replace('text-slate-400', 'text-white'); mBtn.classList.add('bg-white/10');
                dBtn.classList.replace('text-white', 'text-slate-400'); dBtn.classList.remove('bg-white/10');
            } else {
                wrapper.style.maxWidth = '100%'; wrapper.style.height = '100%'; wrapper.style.borderRadius = '0';
                dBtn.classList.replace('text-slate-400', 'text-white'); dBtn.classList.add('bg-white/10');
                mBtn.classList.replace('text-white', 'text-slate-400'); mBtn.classList.remove('bg-white/10');
            }
        }

        function resetTemplate() { if (confirm("Reset Workspace?")) location.reload(); }

        // --- 3. SALES & DELIVERY ---

        function buyAndDownload() {
            // Price: $50.00
            const b64 = btoa(JSON.stringify(currentState));
            // SIMULATION MODE:
            window.location.href = `../download.html?custom=${b64}`;
            // PRODUCTION MODE:
            // window.location.href = `https://gumroad.com/l/YOUR_PRODUCT?price=50&custom=${b64}`;
        }

        function downloadHtmlOnly() {
            const doc = document.getElementById('preview-frame').contentDocument;
            const link = document.createElement("a");
            link.href = URL.createObjectURL(new Blob([doc.documentElement.outerHTML], { type: "text/html" }));
            link.download = "my_webling.html";
            link.click();
        }

        // Init
        document.getElementById('ctrl-primary').value = currentState.colors.primary;
        document.getElementById('ctrl-bg').value = currentState.colors.background;
        document.getElementById('ctrl-name').value = currentState.text.name;
        document.getElementById('ctrl-tagline').value = currentState.text.tagline;
        document.getElementById('ctrl-bio').value = currentState.text.bio;
        renderPreview();

    </script>
</body>

</html>


---
FILE: axxilak_forge_v3.1.html
CATEGORY: HTML | ROLE: src
---
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Axxilak Forge v3.1 | Sovereign Workspace</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* === SPATIAL UI SYSTEM === */
        :root {
            --gold: #d4af37;
            --dark: #0f172a;
            --panel: #1e293b;
        }

        body {
            background-color: var(--dark);
            color: #f8fafc;
            font-family: 'Inter', sans-serif;
            overflow: hidden;
        }

        /* Pseudo-Haptics: The "Heavy Click" Feel */
        .tactile-btn {
            transition: all 0.1s cubic-bezier(0.4, 0, 0.2, 1);
            transform: scale(1);
        }

        .tactile-btn:active {
            transform: scale(0.97) translateY(1px);
            opacity: 0.9;
        }

        /* The Infinite Grid Background */
        .infinite-grid {
            background-color: #050505;
            background-image:
                linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
            background-size: 40px 40px;
            box-shadow: inset 0 0 100px #000;
        }

        /* Ergonomic Scrollbar (Wider hit area) */
        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: #0f172a;
        }

        ::-webkit-scrollbar-thumb {
            background: #334155;
            border-radius: 5px;
            border: 2px solid #0f172a;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--gold);
        }

        /* Range Slider (Precision Input) */
        input[type=range] {
            -webkit-appearance: none;
            background: transparent;
            cursor: pointer;
        }

        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 16px;
            width: 16px;
            border-radius: 50%;
            background: var(--gold);
            margin-top: -6px;
            box-shadow: 0 0 10px rgba(212, 175, 55, 0.5);
            transition: transform 0.1s;
        }

        input[type=range]::-webkit-slider-thumb:hover {
            transform: scale(1.2);
        }

        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 4px;
            background: #334155;
            border-radius: 2px;
        }

        /* Loader */
        .loader {
            border: 3px solid rgba(255, 255, 255, 0.1);
            border-top: 3px solid var(--gold);
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        /* Golden Pulse for the "Buy" Action */
        @keyframes goldenPulse {
            0% {
                box-shadow: 0 0 0 0 rgba(212, 175, 55, 0.4);
            }

            70% {
                box-shadow: 0 0 0 10px rgba(212, 175, 55, 0);
            }

            100% {
                box-shadow: 0 0 0 0 rgba(212, 175, 55, 0);
            }
        }

        .buy-pulse {
            animation: goldenPulse 2s infinite;
        }
    </style>
</head>

<body class="h-screen flex flex-col">

    <!-- HEADER: The Command Bar -->
    <header
        class="h-16 bg-[#0b1120] border-b border-white/5 flex items-center justify-between px-6 shrink-0 z-30 shadow-2xl">
        <div class="flex items-center gap-4">
            <!-- Back to Collection (Dynamic Integration) -->
            <a href="../index.html"
                class="tactile-btn w-10 h-10 flex items-center justify-center rounded-lg hover:bg-white/10 text-slate-400 hover:text-white transition-colors"
                title="Return to Marketplace">
                <i class="fa-solid fa-arrow-left"></i>
            </a>

            <!-- Brand Mark -->
            <div
                class="w-10 h-10 bg-gradient-to-br from-[#d4af37] to-[#8b7355] rounded-lg flex items-center justify-center font-bold text-slate-900 text-xl shadow-[0_0_15px_rgba(212,175,55,0.3)]">
                A</div>

            <!-- Context Info -->
            <div>
                <h1 class="font-bold text-lg text-white tracking-wide leading-none">Axxilak <span
                        class="text-[#d4af37]">Forge</span></h1>
                <div
                    class="flex items-center gap-2 text-[10px] text-slate-500 uppercase tracking-widest font-mono mt-1">
                    <span>v3.1 Sovereign</span>
                    <span class="w-1 h-1 bg-slate-600 rounded-full"></span>
                    <span id="save-status" class="text-green-500 transition-colors duration-500">System Ready</span>
                </div>
            </div>
        </div>

        <!-- The "Action" Zone (Fitts' Law optimized) -->
        <div class="flex items-center gap-4">
            <!-- Ergonomic Toggles -->
            <div class="hidden md:flex bg-white/5 rounded-lg p-1 border border-white/5">
                <button onclick="toggleHandedness()" title="Toggle Southpaw Layout (Shift+S)"
                    class="tactile-btn w-8 h-8 flex items-center justify-center rounded hover:bg-white/10 text-slate-400 hover:text-white transition-colors">
                    <i class="fa-solid fa-hand text-xs"></i>
                </button>
            </div>

            <!-- Free Tier -->
            <button onclick="downloadHtmlOnly()"
                class="tactile-btn text-slate-400 hover:text-white px-4 py-2 text-xs font-medium transition-colors border border-white/10 rounded hover:border-white/30 hidden md:flex items-center gap-2">
                <i class="fa-solid fa-code"></i> HTML Only
            </button>

            <!-- The Premium Trigger ($50) -->
            <button onclick="buyAndDownload()"
                class="tactile-btn buy-pulse bg-[#d4af37] hover:bg-[#b5952f] text-slate-900 font-bold py-2 px-6 rounded text-sm shadow-lg flex items-center gap-2">
                <i class="fa-solid fa-briefcase"></i> <span class="tracking-wide">Purchase License ($50)</span>
            </button>
        </div>
    </header>

    <!-- MAIN WORKSPACE -->
    <!-- Flex direction toggles based on "Southpaw" mode -->
    <main id="workspace" class="flex-1 flex overflow-hidden flex-row">

        <!-- SIDEBAR: The Control Panel -->
        <aside id="sidebar-panel"
            class="w-80 bg-[#0f172a] border-r border-white/5 flex flex-col shrink-0 z-20 shadow-xl transition-all duration-300">

            <!-- 1. Template Selector (Expanded Dynamic List) -->
            <div class="p-5 border-b border-white/5 bg-[#141e33]">
                <label
                    class="text-[9px] text-[#d4af37] uppercase font-bold tracking-[0.2em] mb-3 block">Architecture</label>
                <div class="relative group">
                    <select id="template-selector" onchange="switchTemplate(this.value)"
                        class="w-full bg-[#0b1120] text-gray-200 text-sm font-medium border border-white/10 rounded-lg p-3 appearance-none focus:border-[#d4af37] focus:ring-1 focus:ring-[#d4af37] outline-none cursor-pointer transition-all hover:border-white/20">
                        <option value="liquid-gold">Liquid Gold (Premium)</option>
                        <option value="consultant">The Consultant</option>
                        <option value="velvet">Velvet (Minimalist)</option>
                        <option value="iron-ink">Iron & Ink</option>
                        <option value="scholar">The Scholar</option>
                        <option value="oracle">Oracle</option>
                        <option value="apex">Apex</option>
                        <option value="aura">Aura</option>
                        <option value="canvas">Canvas</option>
                        <option value="cipher">Cipher</option>
                        <option value="gaia">Gaia</option>
                        <option value="neon-tokyo">Neon Tokyo</option>
                        <option value="summit">Summit</option>
                        <option value="ether">Ether</option>
                    </select>
                    <div
                        class="absolute right-3 top-3.5 text-slate-500 pointer-events-none group-hover:text-[#d4af37] transition-colors">
                        <i class="fa-solid fa-chevron-down text-xs"></i>
                    </div>
                </div>
            </div>

            <!-- 2. The Controls (Scrollable) -->
            <div class="flex-1 overflow-y-auto p-6 custom-scroll space-y-8">

                <!-- Dynamic Controls injected here -->
                <div id="controls-container"></div>

                <!-- Hardcoded Core Controls (Fallback/Demo) -->
                <div>
                    <h2
                        class="text-xs font-bold text-white uppercase tracking-widest mb-4 flex items-center gap-2 opacity-80">
                        <i class="fa-solid fa-pen-nib text-[#d4af37]"></i> Identity
                    </h2>
                    <div class="space-y-5">
                        <div class="group">
                            <label
                                class="text-[10px] text-slate-400 uppercase tracking-wider font-semibold mb-1.5 block group-hover:text-[#d4af37] transition-colors">Display
                                Name</label>
                            <input type="text" id="ctrl-name"
                                class="w-full bg-[#0b1120] border border-white/10 rounded-md p-2.5 text-sm text-white focus:border-[#d4af37] outline-none transition-all placeholder-white/20"
                                oninput="updateState('text.name', this.value)">
                        </div>
                        <div class="group">
                            <label
                                class="text-[10px] text-slate-400 uppercase tracking-wider font-semibold mb-1.5 block group-hover:text-[#d4af37] transition-colors">Role
                                / Tagline</label>
                            <input type="text" id="ctrl-tagline"
                                class="w-full bg-[#0b1120] border border-white/10 rounded-md p-2.5 text-sm text-white focus:border-[#d4af37] outline-none transition-all"
                                oninput="updateState('text.tagline', this.value)">
                        </div>
                        <div class="group">
                            <label
                                class="text-[10px] text-slate-400 uppercase tracking-wider font-semibold mb-1.5 block group-hover:text-[#d4af37] transition-colors">Professional
                                Bio</label>
                            <textarea id="ctrl-bio" rows="4"
                                class="w-full bg-[#0b1120] border border-white/10 rounded-md p-2.5 text-sm text-white focus:border-[#d4af37] outline-none transition-all resize-none"
                                oninput="updateState('text.bio', this.value)"></textarea>
                        </div>
                    </div>
                </div>

                <div>
                    <h2
                        class="text-xs font-bold text-white uppercase tracking-widest mb-4 flex items-center gap-2 opacity-80">
                        <i class="fa-solid fa-palette text-[#d4af37]"></i> Aesthetics
                    </h2>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label
                                class="text-[10px] text-slate-400 uppercase tracking-wider font-semibold mb-2 block">Primary</label>
                            <div class="flex items-center gap-2 bg-[#0b1120] p-1.5 rounded-md border border-white/10">
                                <input type="color" id="ctrl-primary"
                                    class="w-6 h-6 rounded cursor-pointer border-none bg-transparent p-0"
                                    oninput="updateState('colors.primary', this.value)">
                                <span class="text-[10px] font-mono text-slate-400 flex-1 text-right"
                                    id="lbl-primary">#D4AF37</span>
                            </div>
                        </div>
                        <div>
                            <label
                                class="text-[10px] text-slate-400 uppercase tracking-wider font-semibold mb-2 block">Canvas</label>
                            <div class="flex items-center gap-2 bg-[#0b1120] p-1.5 rounded-md border border-white/10">
                                <input type="color" id="ctrl-bg"
                                    class="w-6 h-6 rounded cursor-pointer border-none bg-transparent p-0"
                                    oninput="updateState('colors.background', this.value)">
                                <span class="text-[10px] font-mono text-slate-400 flex-1 text-right"
                                    id="lbl-bg">#0A0A0A</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div>
                    <h2
                        class="text-xs font-bold text-white uppercase tracking-widest mb-4 flex items-center gap-2 opacity-80">
                        <i class="fa-solid fa-image text-[#d4af37]"></i> Media
                    </h2>
                    <div class="relative group cursor-pointer">
                        <input type="file" id="ctrl-img-upload" accept="image/*" class="hidden"
                            onchange="handleSmartImageUpload(this)">
                        <label for="ctrl-img-upload"
                            class="flex flex-col items-center justify-center w-full h-28 border border-dashed border-white/20 rounded-lg cursor-pointer hover:border-[#d4af37] hover:bg-[#d4af37]/5 transition-all bg-[#0b1120]">
                            <i
                                class="fa-solid fa-cloud-arrow-up text-slate-500 mb-2 text-xl group-hover:text-[#d4af37] transition-colors"></i>
                            <span class="text-xs text-slate-400 group-hover:text-white font-medium">Upload
                                Portrait</span>
                            <span class="text-[9px] text-slate-600 mt-1">Smart Compress Active</span>
                        </label>
                        <div id="compression-indicator"
                            class="hidden absolute inset-0 bg-[#0f172a]/90 flex items-center justify-center rounded-lg z-10 backdrop-blur-sm">
                            <div class="text-center">
                                <div class="loader mb-2 mx-auto"></div>
                                <span class="text-[9px] text-[#d4af37] uppercase tracking-widest">Optimizing...</span>
                            </div>
                        </div>
                    </div>
                </div>

            </div>

            <!-- 3. Telemetry (Bottom Bar) -->
            <div
                class="p-3 border-t border-white/5 bg-[#0b1120] flex justify-between items-center text-[9px] text-slate-500 font-mono">
                <div class="flex items-center gap-2">
                    <span class="w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"></span>
                    <span>MEMORY: <span id="state-size" class="text-slate-300">0.0 KB</span></span>
                </div>
                <span>SESSION: ACTIVE</span>
            </div>
        </aside>

        <!-- CENTER: The Infinite Canvas -->
        <div class="flex-1 flex flex-col relative infinite-grid transition-all duration-300">

            <!-- Floating Toolbar (Island Design) -->
            <div
                class="absolute top-6 left-1/2 -translate-x-1/2 z-20 flex items-center gap-1 bg-[#0f172a]/90 backdrop-blur-md border border-white/10 p-1.5 rounded-full shadow-2xl">
                <button onclick="setPreviewMode('desktop')" id="btn-desktop"
                    class="tactile-btn px-4 py-1.5 rounded-full text-white text-xs font-medium bg-white/10 hover:bg-white/20 transition-all flex items-center gap-2">
                    <i class="fa-solid fa-desktop"></i>
                </button>
                <button onclick="setPreviewMode('mobile')" id="btn-mobile"
                    class="tactile-btn px-4 py-1.5 rounded-full text-slate-400 hover:text-white hover:bg-white/10 transition-all text-xs font-medium flex items-center gap-2">
                    <i class="fa-solid fa-mobile-screen"></i>
                </button>
                <div class="w-px h-4 bg-white/10 mx-1"></div>
                <button onclick="resetTemplate()"
                    class="tactile-btn w-8 h-8 rounded-full flex items-center justify-center text-red-400 hover:bg-red-500/10 hover:text-red-300 transition-all"
                    title="Reset">
                    <i class="fa-solid fa-rotate-left text-xs"></i>
                </button>
            </div>

            <!-- Iframe Container -->
            <div class="flex-1 flex items-center justify-center p-8 overflow-hidden">
                <div id="preview-wrapper"
                    class="w-full h-full bg-white shadow-[0_0_50px_rgba(0,0,0,0.5)] transition-all duration-500 ease-in-out relative border border-[#333]">
                    <iframe id="preview-frame" class="w-full h-full border-none bg-white"
                        sandbox="allow-scripts allow-same-origin"></iframe>
                </div>
            </div>
        </div>
    </main>

    <!-- === HIDDEN TEMPLATES (FALLBACKS) === -->
    <!-- 1. CONSULTANT -->
    <script type="text/template" id="tpl-consultant">
        <!DOCTYPE html><html lang="en"><head><style>:root{--primary:{{colors.primary}};--bg:{{colors.background}};--text:{{colors.text}};}body{font-family:'Helvetica Neue',sans-serif;background:var(--bg);color:var(--text);margin:0;display:flex;flex-direction:column;min-height:100vh}.container{max-width:900px;margin:0 auto;padding:2rem}h1{font-size:3rem;line-height:1.1}.btn{background:var(--primary);color:#000;padding:10px 20px;text-decoration:none;font-weight:bold;display:inline-block}.img-box img{max-width:100%;box-shadow:-20px 20px 0 var(--primary)}input,textarea{width:100%;padding:10px;margin-bottom:10px;background:rgba(255,255,255,0.05);border:1px solid #333;color:inherit}</style></head><body><div class="container"><header style="display:flex;justify-content:space-between;align-items:center;padding:2rem 0"><div style="font-weight:900;font-size:1.5rem">{{text.name}}</div><a href="#contact" class="btn">Contact</a></header><section style="display:flex;gap:4rem;align-items:center;padding:4rem 0"> <div style="flex:1"><p style="color:var(--primary);font-weight:bold;text-transform:uppercase;letter-spacing:2px;font-size:0.8rem">{{text.tagline}}</p><h1>{{text.bio_short}}</h1><p>{{text.bio}}</p></div><div class="img-box" style="flex:1"><img src="{{images.profile}}"></div></section><section id="contact" style="margin-top:4rem;border-top:1px solid #333;padding-top:4rem"><h3>Send a Message</h3><form><input type="text" placeholder="Name"><input type="email" placeholder="Email"><textarea placeholder="Message..." rows="4"></textarea><button class="btn">Send</button></form></section></div></body></html>
    </script>

    <!-- 2. LIQUID GOLD (Populated) -->
    <script type="text/template" id="tpl-liquid-gold">
        <!DOCTYPE html><html lang="en"><head><style>:root{--gold:{{colors.primary}};--dark:{{colors.background}};--light:#f1f1f1}body{background:var(--dark);color:var(--light);font-family:'Garamond',serif;text-align:center;margin:0}.container{max-width:800px;margin:0 auto;padding:60px 20px}img{width:150px;height:150px;border-radius:50%;border:2px solid var(--gold);object-fit:cover;margin:0 auto;display:block}h1{font-size:4rem;font-weight:100;letter-spacing:0.1em;text-transform:uppercase;margin:20px 0}.cta{border:1px solid var(--gold);color:var(--gold);padding:15px 30px;text-decoration:none;text-transform:uppercase;letter-spacing:2px;display:inline-block;transition:0.3s}.cta:hover{background:var(--gold);color:black}input,textarea{width:100%;background:#111;border:none;border-bottom:1px solid #333;padding:15px;color:white;margin-bottom:20px;font-family:sans-serif}input:focus,textarea:focus{border-bottom-color:var(--gold);outline:none}</style></head><body><div class="container"><img src="{{images.profile}}"><p style="color:var(--gold);letter-spacing:3px;text-transform:uppercase;font-size:0.8rem;margin-top:20px">{{text.tagline}}</p><h1>{{text.name}}</h1><p style="font-family:sans-serif;line-height:1.8;color:#888;margin-bottom:40px">{{text.bio}}</p><a href="#contact" class="cta">{{text.cta}}</a><div id="contact" style="margin-top:80px;text-align:left"><label style="color:var(--gold);font-size:0.7rem;letter-spacing:2px;text-transform:uppercase;display:block;margin-bottom:10px">Inquiry</label><input type="text" placeholder="Your Name"><input type="email" placeholder="Your Email"><textarea placeholder="How can we help?" rows="4"></textarea><button class="cta" style="width:100%;cursor:pointer">Send Message</button></div></div></body></html>
    </script>

    <!-- 3. VELVET (Populated) -->
    <script type="text/template" id="tpl-velvet">
        <!DOCTYPE html><html lang="en"><head><style>:root{--accent:{{colors.primary}};--bg:{{colors.background}};--text:{{colors.text}}}body{background:var(--bg);color:var(--text);font-family:'Arial',sans-serif;margin:0;padding:40px;height:100vh;box-sizing:border-box;display:flex;align-items:center;justify-content:center}.layout{display:grid;grid-template-columns:1fr 1fr;gap:60px;max-width:1200px;width:100%}h1{font-size:5rem;line-height:0.9;margin:0;letter-spacing:-2px}.meta{border-left:2px solid var(--accent);padding-left:20px;margin-top:30px;font-family:monospace}img{width:100%;height:500px;object-fit:cover;border-radius:20px}textarea{width:100%;background:#f4f4f5;border:none;padding:20px;border-radius:10px;margin-top:20px;font-family:inherit}@media(max-width:768px){.layout{grid-template-columns:1fr;height:auto}h1{font-size:3rem}}</style></head><body><div class="layout"><div><h1>{{text.name}}<span style="color:var(--accent)">.</span></h1><div class="meta"><p>{{text.tagline}}</p><p>{{text.bio}}</p></div><textarea placeholder="Write a message..."></textarea></div><div><img src="{{images.profile}}"></div></div></body></html>
    </script>

    <script>
        // --- MASTER LOGIC V3.1 (DYNAMIC SOVEREIGN) ---

        const defaults = {
            colors: { primary: "#d4af37", background: "#0a0a0a", text: "#f5f5f5" },
            text: { name: "Alex Vayner", tagline: "Strategic Consultant", bio: "Helping businesses navigate complexity through data-driven strategies and intuitive design thinking.", bio_short: "Strategy Meets Design", cta: "Work With Me" },
            images: { profile: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&w=400&q=80" },
            activeTemplate: "consultant"
        };

        let currentState = JSON.parse(JSON.stringify(defaults));
        let southpawMode = false;
        let currentTemplateHTML = ""; // To store the fetched template

        // --- 1. INITIALIZATION & ROUTING ---
        window.onload = function () {
            // Check URL Params (Pre-selection from Marketplace)
            const params = new URLSearchParams(window.location.search);
            const tplParam = params.get('template');

            // Check Session Storage (Returning user)
            const storedState = sessionStorage.getItem('axxilak_state');

            if (tplParam) {
                // Priority 1: URL Param (Fresh user from Gallery)
                console.log("Loading template from URL:", tplParam);
                switchTemplate(tplParam);
            } else if (storedState) {
                // Priority 2: Session (Returning user)
                console.log("Restoring session state...");
                currentState = JSON.parse(storedState);
                document.getElementById('template-selector').value = currentState.activeTemplate;
                syncInputs();
                loadTemplateSource(currentState.activeTemplate);
            } else {
                // Priority 3: Default (Consultant)
                console.log("Loading default...");
                loadTemplateSource('consultant');
            }

            // Restore Southpaw Preference
            if (localStorage.getItem('southpaw') === 'true') {
                toggleHandedness();
            }
        };

        // --- 2. DYNAMIC TEMPLATE LOADING ---
        async function loadTemplateSource(tplName) {
            currentState.activeTemplate = tplName;

            // Attempt to load from file if available, otherwise use fallback
            let fetchedHTML = "";
            try {
                // Only try to fetch if we are in an environment that supports relative path fetch
                // (http/https/file, NOT blob which is the simulation environment)
                // We check if the protocol is one that likely supports the relative path structure.
                const protocol = window.location.protocol;
                if (protocol.startsWith('http') || protocol === 'file:') {
                    // Add cache-busting parameter to force fresh load
                    const path = `./Weblings/${tplName}/index.html?t=${Date.now()}`;
                    const response = await fetch(path);
                    if (response.ok) {
                        fetchedHTML = await response.text();
                        console.log(`Loaded ${tplName} from ${path}`);
                    }
                }
            } catch (e) {
                // In simulation mode (blob URL), fetch usually fails or is not supported for relative paths.
                // We silently catch this to allow the fallback to take over.
                console.log(`Fetch skipped or failed for ${tplName} (using embedded fallback).`);
            }

            if (fetchedHTML) {
                currentTemplateHTML = fetchedHTML;
            } else {
                // Fallback Logic: Check for embedded script tag
                const fallbackEl = document.getElementById(`tpl-${tplName}`);
                if (fallbackEl) {
                    currentTemplateHTML = fallbackEl.innerHTML;
                } else {
                    // Ultimate Fallback for unimplemented templates (Iron & Ink etc.)
                    // This ensures the editor doesn't break when selecting a 'Coming Soon' template
                    const baseTpl = document.getElementById('tpl-consultant').innerHTML;
                    // Simple replacement to indicate we are on a fallback
                    currentTemplateHTML = baseTpl
                        .replace('{{text.name}}', `[${tplName.toUpperCase()} PREVIEW]`)
                        .replace('{{text.bio}}', 'This template is currently loading from a fallback placeholder. In production, this would be the full specific design.');
                }
            }

            renderPreview();
            syncInputs(); // Re-sync inputs in case template defaults differ
        }

        // --- 3. ERGONOMIC FUNCTIONS ---

        function toggleHandedness() {
            southpawMode = !southpawMode;
            localStorage.setItem('southpaw', southpawMode);
            const workspace = document.getElementById('workspace');
            const sidebar = document.getElementById('sidebar-panel');

            if (southpawMode) {
                workspace.classList.remove('flex-row');
                workspace.classList.add('flex-row-reverse');
                sidebar.classList.add('border-l');
                sidebar.classList.remove('border-r');
            } else {
                workspace.classList.remove('flex-row-reverse');
                workspace.classList.add('flex-row');
                sidebar.classList.remove('border-l');
                sidebar.classList.add('border-r');
            }
        }

        document.addEventListener('keydown', (e) => {
            if (e.shiftKey && e.key.toLowerCase() === 's') toggleHandedness();
        });

        // --- 4. CORE ENGINE ---

        function renderPreview() {
            if (!currentTemplateHTML) return;

            let tpl = currentTemplateHTML;

            // Regex Replacement
            for (const [section, data] of Object.entries(currentState)) {
                if (typeof data === 'object') {
                    for (const [key, val] of Object.entries(data)) {
                        const regex = new RegExp(`{{${section}.${key}}}`, 'g');
                        tpl = tpl.replace(regex, val);
                    }
                }
            }
            // Computed props
            tpl = tpl.replace(/{{text.bio_short}}/g, currentState.text.bio.substring(0, 50));

            const frame = document.getElementById('preview-frame');
            const doc = frame.contentDocument || frame.contentWindow.document;
            doc.open(); doc.write(tpl); doc.close();

            // Auto-Save to Session
            sessionStorage.setItem('axxilak_state', JSON.stringify(currentState));

            // Visual Confirmation
            const status = document.getElementById('save-status');
            status.innerText = "Saving...";
            status.classList.replace('text-green-500', 'text-yellow-500');
            setTimeout(() => {
                status.innerText = "System Ready";
                status.classList.replace('text-yellow-500', 'text-green-500');
                updateStateSize();
            }, 300);
        }

        function updateState(path, value) {
            const [sec, key] = path.split('.');
            currentState[sec][key] = value;
            if (sec === 'colors') {
                document.getElementById(key === 'primary' ? 'lbl-primary' : 'lbl-bg').innerText = value.toUpperCase();
            }
            renderPreview();
        }

        async function handleSmartImageUpload(input) {
            if (input.files && input.files[0]) {
                const file = input.files[0];
                document.getElementById('compression-indicator').classList.remove('hidden');

                const reader = new FileReader();
                reader.readAsDataURL(file);
                reader.onload = (e) => {
                    const img = new Image();
                    img.src = e.target.result;
                    img.onload = () => {
                        const canvas = document.createElement('canvas');
                        const ctx = canvas.getContext('2d');
                        const MAX = 800;
                        let w = img.width, h = img.height;
                        if (w > h) { if (w > MAX) { h *= MAX / w; w = MAX; } } else { if (h > MAX) { w *= MAX / h; h = MAX; } }
                        canvas.width = w; canvas.height = h;
                        ctx.drawImage(img, 0, 0, w, h);
                        currentState.images.profile = canvas.toDataURL('image/jpeg', 0.7);

                        document.getElementById('compression-indicator').classList.add('hidden');
                        renderPreview();
                    };
                };
            }
        }

        function switchTemplate(val) {
            // Update the dropdown to reflect the new selection
            document.getElementById('template-selector').value = val;

            // Load the new source code dynamically
            loadTemplateSource(val);

            // Apply Theme Defaults (Optional: Could also fetch a defaults.json per template)
            if (val === 'velvet') { currentState.colors.primary = "#ff3366"; currentState.colors.background = "#ffffff"; }
            else if (val === 'liquid-gold') { currentState.colors.primary = "#d4af37"; currentState.colors.background = "#050505"; }

            // Sync Color Inputs
            syncInputs();
        }

        function syncInputs() {
            document.getElementById('ctrl-primary').value = currentState.colors.primary;
            document.getElementById('ctrl-bg').value = currentState.colors.background;
            document.getElementById('ctrl-name').value = currentState.text.name;
            document.getElementById('ctrl-tagline').value = currentState.text.tagline;
            document.getElementById('ctrl-bio').value = currentState.text.bio;
        }

        function updateStateSize() {
            const json = JSON.stringify(currentState);
            const size = new Blob([json]).size;
            document.getElementById('state-size').innerText = (size / 1024).toFixed(1) + " KB";
        }

        function setPreviewMode(mode) {
            const wrapper = document.getElementById('preview-wrapper');
            const dBtn = document.getElementById('btn-desktop');
            const mBtn = document.getElementById('btn-mobile');

            if (mode === 'mobile') {
                wrapper.style.maxWidth = '375px'; wrapper.style.height = '80%'; wrapper.style.borderRadius = '30px';
                mBtn.classList.replace('text-slate-400', 'text-white'); mBtn.classList.add('bg-white/10');
                dBtn.classList.replace('text-white', 'text-slate-400'); dBtn.classList.remove('bg-white/10');
            } else {
                wrapper.style.maxWidth = '100%'; wrapper.style.height = '100%'; wrapper.style.borderRadius = '0';
                dBtn.classList.replace('text-slate-400', 'text-white'); dBtn.classList.add('bg-white/10');
                mBtn.classList.replace('text-white', 'text-slate-400'); mBtn.classList.remove('bg-white/10');
            }
        }

        function resetTemplate() { if (confirm("Reset Workspace?")) { sessionStorage.clear(); location.reload(); } }

        // --- 5. SALES & DELIVERY ---

        function buyAndDownload() {
            // Price: $50.00
            const b64 = btoa(JSON.stringify(currentState));
            // SIMULATION MODE:
            window.location.href = `../download.html?custom=${b64}`;
            // PRODUCTION MODE:
            // window.location.href = `https://gumroad.com/l/YOUR_PRODUCT?price=50&custom=${b64}`;
        }

        function downloadHtmlOnly() {
            const doc = document.getElementById('preview-frame').contentDocument;
            const link = document.createElement("a");
            link.href = URL.createObjectURL(new Blob([doc.documentElement.outerHTML], { type: "text/html" }));
            link.download = "my_webling.html";
            link.click();
        }
    </script>
</body>

</html>


---
FILE: axxilak_forge_v3.2.html
CATEGORY: HTML | ROLE: src
---
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Axxilak Forge v3.2 | Sovereign Workspace</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* === SPATIAL UI SYSTEM === */
        :root {
            --gold: #d4af37;
            --dark: #0f172a;
            --panel: #1e293b;
        }

        body {
            background-color: var(--dark);
            color: #f8fafc;
            font-family: 'Inter', sans-serif;
            overflow: hidden;
        }

        .tactile-btn {
            transition: all 0.1s cubic-bezier(0.4, 0, 0.2, 1);
            transform: scale(1);
        }

        .tactile-btn:active {
            transform: scale(0.97) translateY(1px);
            opacity: 0.9;
        }

        .infinite-grid {
            background-color: #050505;
            background-image:
                linear-gradient(rgba(255, 255, 255, 0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255, 255, 255, 0.03) 1px, transparent 1px);
            background-size: 40px 40px;
            box-shadow: inset 0 0 100px #000;
        }

        ::-webkit-scrollbar {
            width: 10px;
        }

        ::-webkit-scrollbar-track {
            background: #0f172a;
        }

        ::-webkit-scrollbar-thumb {
            background: #334155;
            border-radius: 5px;
            border: 2px solid #0f172a;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--gold);
        }

        input[type=range] {
            -webkit-appearance: none;
            background: transparent;
            cursor: pointer;
        }

        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 16px;
            width: 16px;
            border-radius: 50%;
            background: var(--gold);
            margin-top: -6px;
            box-shadow: 0 0 10px rgba(212, 175, 55, 0.5);
            transition: transform 0.1s;
        }

        input[type=range]::-webkit-slider-thumb:hover {
            transform: scale(1.2);
        }

        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 4px;
            background: #334155;
            border-radius: 2px;
        }

        .loader {
            border: 3px solid rgba(255, 255, 255, 0.1);
            border-top: 3px solid var(--gold);
            border-radius: 50%;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% {
                transform: rotate(0deg);
            }

            100% {
                transform: rotate(360deg);
            }
        }

        @keyframes goldenPulse {
            0% {
                box-shadow: 0 0 0 0 rgba(212, 175, 55, 0.4);
            }

            70% {
                box-shadow: 0 0 0 10px rgba(212, 175, 55, 0);
            }

            100% {
                box-shadow: 0 0 0 0 rgba(212, 175, 55, 0);
            }
        }

        .buy-pulse {
            animation: goldenPulse 2s infinite;
        }
    </style>
</head>

<body class="h-screen flex flex-col">

    <!-- HEADER -->
    <header
        class="h-16 bg-[#0b1120] border-b border-white/5 flex items-center justify-between px-6 shrink-0 z-30 shadow-2xl">
        <div class="flex items-center gap-4">
            <a href="../index.html"
                class="tactile-btn w-10 h-10 flex items-center justify-center rounded-lg hover:bg-white/10 text-slate-400 hover:text-white transition-colors"
                title="Return to Marketplace">
                <i class="fa-solid fa-arrow-left"></i>
            </a>
            <div
                class="w-10 h-10 bg-gradient-to-br from-[#d4af37] to-[#8b7355] rounded-lg flex items-center justify-center font-bold text-slate-900 text-xl shadow-[0_0_15px_rgba(212,175,55,0.3)]">
                A</div>
            <div>
                <h1 class="font-bold text-lg text-white tracking-wide leading-none">Axxilak <span
                        class="text-[#d4af37]">Forge</span></h1>
                <div
                    class="flex items-center gap-2 text-[10px] text-slate-500 uppercase tracking-widest font-mono mt-1">
                    <span>v3.2 Stable</span>
                    <span class="w-1 h-1 bg-slate-600 rounded-full"></span>
                    <span id="save-status" class="text-green-500 transition-colors duration-500">System Ready</span>
                </div>
            </div>
        </div>

        <div class="flex items-center gap-4">
            <div class="hidden md:flex bg-white/5 rounded-lg p-1 border border-white/5">
                <button onclick="toggleHandedness()" title="Toggle Southpaw Layout (Shift+S)"
                    class="tactile-btn w-8 h-8 flex items-center justify-center rounded hover:bg-white/10 text-slate-400 hover:text-white transition-colors">
                    <i class="fa-solid fa-hand text-xs"></i>
                </button>
            </div>
            <button onclick="downloadHtmlOnly()"
                class="tactile-btn text-slate-400 hover:text-white px-4 py-2 text-xs font-medium transition-colors border border-white/10 rounded hover:border-white/30 hidden md:flex items-center gap-2">
                <i class="fa-solid fa-code"></i> HTML Only
            </button>
            <button onclick="buyAndDownload()"
                class="tactile-btn buy-pulse bg-[#d4af37] hover:bg-[#b5952f] text-slate-900 font-bold py-2 px-6 rounded text-sm shadow-lg flex items-center gap-2">
                <i class="fa-solid fa-briefcase"></i> <span class="tracking-wide">Purchase License ($50)</span>
            </button>
        </div>
    </header>

    <!-- MAIN WORKSPACE -->
    <main id="workspace" class="flex-1 flex overflow-hidden flex-row">

        <!-- SIDEBAR -->
        <aside id="sidebar-panel"
            class="w-80 bg-[#0f172a] border-r border-white/5 flex flex-col shrink-0 z-20 shadow-xl transition-all duration-300">
            <div class="p-5 border-b border-white/5 bg-[#141e33]">
                <label
                    class="text-[9px] text-[#d4af37] uppercase font-bold tracking-[0.2em] mb-3 block">Architecture</label>
                <div class="relative group">
                    <select id="template-selector" onchange="switchTemplate(this.value)"
                        class="w-full bg-[#0b1120] text-gray-200 text-sm font-medium border border-white/10 rounded-lg p-3 appearance-none focus:border-[#d4af37] focus:ring-1 focus:ring-[#d4af37] outline-none cursor-pointer transition-all hover:border-white/20">
                        <option value="liquid-gold">Liquid Gold (Premium)</option>
                        <option value="consultant">The Consultant</option>
                        <option value="velvet">Velvet (Minimalist)</option>
                        <option value="iron-ink">Iron & Ink</option>
                        <option value="scholar">The Scholar</option>
                        <option value="oracle">Oracle</option>
                        <option value="apex">Apex</option>
                        <option value="aura">Aura</option>
                        <option value="canvas">Canvas</option>
                        <option value="cipher">Cipher</option>
                        <option value="gaia">Gaia</option>
                        <option value="neon-tokyo">Neon Tokyo</option>
                        <option value="summit">Summit</option>
                        <option value="ether">Ether</option>
                    </select>
                    <div
                        class="absolute right-3 top-3.5 text-slate-500 pointer-events-none group-hover:text-[#d4af37] transition-colors">
                        <i class="fa-solid fa-chevron-down text-xs"></i>
                    </div>
                </div>
            </div>

            <div class="flex-1 overflow-y-auto p-6 custom-scroll space-y-8">
                <!-- Hardcoded Controls -->
                <div>
                    <h2
                        class="text-xs font-bold text-white uppercase tracking-widest mb-4 flex items-center gap-2 opacity-80">
                        <i class="fa-solid fa-pen-nib text-[#d4af37]"></i> Identity
                    </h2>
                    <div class="space-y-5">
                        <div class="group">
                            <label
                                class="text-[10px] text-slate-400 uppercase tracking-wider font-semibold mb-1.5 block group-hover:text-[#d4af37] transition-colors">Display
                                Name</label>
                            <input type="text" id="ctrl-name"
                                class="w-full bg-[#0b1120] border border-white/10 rounded-md p-2.5 text-sm text-white focus:border-[#d4af37] outline-none transition-all placeholder-white/20"
                                oninput="updateState('text.name', this.value)">
                        </div>
                        <div class="group">
                            <label
                                class="text-[10px] text-slate-400 uppercase tracking-wider font-semibold mb-1.5 block group-hover:text-[#d4af37] transition-colors">Role
                                / Tagline</label>
                            <input type="text" id="ctrl-tagline"
                                class="w-full bg-[#0b1120] border border-white/10 rounded-md p-2.5 text-sm text-white focus:border-[#d4af37] outline-none transition-all"
                                oninput="updateState('text.tagline', this.value)">
                        </div>
                        <div class="group">
                            <label
                                class="text-[10px] text-slate-400 uppercase tracking-wider font-semibold mb-1.5 block group-hover:text-[#d4af37] transition-colors">Professional
                                Bio</label>
                            <textarea id="ctrl-bio" rows="4"
                                class="w-full bg-[#0b1120] border border-white/10 rounded-md p-2.5 text-sm text-white focus:border-[#d4af37] outline-none transition-all resize-none"
                                oninput="updateState('text.bio', this.value)"></textarea>
                        </div>
                    </div>
                </div>

                <div>
                    <h2
                        class="text-xs font-bold text-white uppercase tracking-widest mb-4 flex items-center gap-2 opacity-80">
                        <i class="fa-solid fa-palette text-[#d4af37]"></i> Aesthetics
                    </h2>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label
                                class="text-[10px] text-slate-400 uppercase tracking-wider font-semibold mb-2 block">Primary</label>
                            <div class="flex items-center gap-2 bg-[#0b1120] p-1.5 rounded-md border border-white/10">
                                <input type="color" id="ctrl-primary"
                                    class="w-6 h-6 rounded cursor-pointer border-none bg-transparent p-0"
                                    oninput="updateState('colors.primary', this.value)">
                                <span class="text-[10px] font-mono text-slate-400 flex-1 text-right"
                                    id="lbl-primary">#D4AF37</span>
                            </div>
                        </div>
                        <div>
                            <label
                                class="text-[10px] text-slate-400 uppercase tracking-wider font-semibold mb-2 block">Canvas</label>
                            <div class="flex items-center gap-2 bg-[#0b1120] p-1.5 rounded-md border border-white/10">
                                <input type="color" id="ctrl-bg"
                                    class="w-6 h-6 rounded cursor-pointer border-none bg-transparent p-0"
                                    oninput="updateState('colors.background', this.value)">
                                <span class="text-[10px] font-mono text-slate-400 flex-1 text-right"
                                    id="lbl-bg">#0A0A0A</span>
                            </div>
                        </div>
                    </div>
                </div>

                <div>
                    <h2
                        class="text-xs font-bold text-white uppercase tracking-widest mb-4 flex items-center gap-2 opacity-80">
                        <i class="fa-solid fa-image text-[#d4af37]"></i> Media
                    </h2>
                    <div class="relative group cursor-pointer">
                        <input type="file" id="ctrl-img-upload" accept="image/*" class="hidden"
                            onchange="handleSmartImageUpload(this)">
                        <label for="ctrl-img-upload"
                            class="flex flex-col items-center justify-center w-full h-28 border border-dashed border-white/20 rounded-lg cursor-pointer hover:border-[#d4af37] hover:bg-[#d4af37]/5 transition-all bg-[#0b1120]">
                            <i
                                class="fa-solid fa-cloud-arrow-up text-slate-500 mb-2 text-xl group-hover:text-[#d4af37] transition-colors"></i>
                            <span class="text-xs text-slate-400 group-hover:text-white font-medium">Upload
                                Portrait</span>
                            <span class="text-[9px] text-slate-600 mt-1">Smart Compress Active</span>
                        </label>
                        <div id="compression-indicator"
                            class="hidden absolute inset-0 bg-[#0f172a]/90 flex items-center justify-center rounded-lg z-10 backdrop-blur-sm">
                            <div class="text-center">
                                <div class="loader mb-2 mx-auto"></div>
                                <span class="text-[9px] text-[#d4af37] uppercase tracking-widest">Optimizing...</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div
                class="p-3 border-t border-white/5 bg-[#0b1120] flex justify-between items-center text-[9px] text-slate-500 font-mono">
                <div class="flex items-center gap-2">
                    <span class="w-1.5 h-1.5 bg-green-500 rounded-full animate-pulse"></span>
                    <span>MEMORY: <span id="state-size" class="text-slate-300">0.0 KB</span></span>
                </div>
                <span>SESSION: ACTIVE</span>
            </div>
        </aside>

        <!-- CENTER -->
        <div class="flex-1 flex flex-col relative infinite-grid transition-all duration-300">
            <div
                class="absolute top-6 left-1/2 -translate-x-1/2 z-20 flex items-center gap-1 bg-[#0f172a]/90 backdrop-blur-md border border-white/10 p-1.5 rounded-full shadow-2xl">
                <button onclick="setPreviewMode('desktop')" id="btn-desktop"
                    class="tactile-btn px-4 py-1.5 rounded-full text-white text-xs font-medium bg-white/10 hover:bg-white/20 transition-all flex items-center gap-2"><i
                        class="fa-solid fa-desktop"></i></button>
                <button onclick="setPreviewMode('mobile')" id="btn-mobile"
                    class="tactile-btn px-4 py-1.5 rounded-full text-slate-400 hover:text-white hover:bg-white/10 transition-all text-xs font-medium flex items-center gap-2"><i
                        class="fa-solid fa-mobile-screen"></i></button>
                <div class="w-px h-4 bg-white/10 mx-1"></div>
                <button onclick="resetTemplate()"
                    class="tactile-btn w-8 h-8 rounded-full flex items-center justify-center text-red-400 hover:bg-red-500/10 hover:text-red-300 transition-all"
                    title="Reset"><i class="fa-solid fa-rotate-left text-xs"></i></button>
            </div>
            <div class="flex-1 flex items-center justify-center p-8 overflow-hidden">
                <div id="preview-wrapper"
                    class="w-full h-full bg-white shadow-[0_0_50px_rgba(0,0,0,0.5)] transition-all duration-500 ease-in-out relative border border-[#333]">
                    <iframe id="preview-frame" class="w-full h-full border-none bg-white"
                        sandbox="allow-scripts allow-same-origin"></iframe>
                </div>
            </div>
        </div>
    </main>

    <!-- === SAFE TEMPLATE STORAGE (FALLBACKS) === -->
    <!-- 1. CONSULTANT -->
    <script type="text/template" id="tpl-consultant">
        <!DOCTYPE html><html lang="en"><head><style>:root{--primary:{{colors.primary}};--bg:{{colors.background}};--text:{{colors.text}};}body{font-family:'Helvetica Neue',sans-serif;background:var(--bg);color:var(--text);margin:0;display:flex;flex-direction:column;min-height:100vh}.container{max-width:900px;margin:0 auto;padding:2rem}h1{font-size:3rem;line-height:1.1}.btn{background:var(--primary);color:#000;padding:10px 20px;text-decoration:none;font-weight:bold;display:inline-block}.img-box img{max-width:100%;box-shadow:-20px 20px 0 var(--primary)}input,textarea{width:100%;padding:10px;margin-bottom:10px;background:rgba(255,255,255,0.05);border:1px solid #333;color:inherit}</style></head><body><div class="container"><header style="display:flex;justify-content:space-between;align-items:center;padding:2rem 0"><div style="font-weight:900;font-size:1.5rem">{{text.name}}</div><a href="#contact" class="btn">Contact</a></header><section style="display:flex;gap:4rem;align-items:center;padding:4rem 0"> <div style="flex:1"><p style="color:var(--primary);font-weight:bold;text-transform:uppercase;letter-spacing:2px;font-size:0.8rem">{{text.tagline}}</p><h1>{{text.bio_short}}</h1><p>{{text.bio}}</p></div><div class="img-box" style="flex:1"><img src="{{images.profile}}"></div></section><section id="contact" style="margin-top:4rem;border-top:1px solid #333;padding-top:4rem"><h3>Send a Message</h3><form><input type="text" placeholder="Name"><input type="email" placeholder="Email"><textarea placeholder="Message..." rows="4"></textarea><button class="btn">Send</button></form></section></div></body></html>
    </script>

    <!-- 2. LIQUID GOLD -->
    <script type="text/template" id="tpl-liquid-gold">
        <!DOCTYPE html><html lang="en"><head><style>:root{--gold:{{colors.primary}};--dark:{{colors.background}};--light:#f1f1f1}body{background:var(--dark);color:var(--light);font-family:'Garamond',serif;text-align:center;margin:0}.container{max-width:800px;margin:0 auto;padding:60px 20px}img{width:150px;height:150px;border-radius:50%;border:2px solid var(--gold);object-fit:cover;margin:0 auto;display:block}h1{font-size:4rem;font-weight:100;letter-spacing:0.1em;text-transform:uppercase;margin:20px 0}.cta{border:1px solid var(--gold);color:var(--gold);padding:15px 30px;text-decoration:none;text-transform:uppercase;letter-spacing:2px;display:inline-block;transition:0.3s}.cta:hover{background:var(--gold);color:black}input,textarea{width:100%;background:#111;border:none;border-bottom:1px solid #333;padding:15px;color:white;margin-bottom:20px;font-family:sans-serif}input:focus,textarea:focus{border-bottom-color:var(--gold);outline:none}</style></head><body><div class="container"><img src="{{images.profile}}"><p style="color:var(--gold);letter-spacing:3px;text-transform:uppercase;font-size:0.8rem;margin-top:20px">{{text.tagline}}</p><h1>{{text.name}}</h1><p style="font-family:sans-serif;line-height:1.8;color:#888;margin-bottom:40px">{{text.bio}}</p><a href="#contact" class="cta">{{text.cta}}</a><div id="contact" style="margin-top:80px;text-align:left"><label style="color:var(--gold);font-size:0.7rem;letter-spacing:2px;text-transform:uppercase;display:block;margin-bottom:10px">Inquiry</label><input type="text" placeholder="Your Name"><input type="email" placeholder="Your Email"><textarea placeholder="How can we help?" rows="4"></textarea><button class="cta" style="width:100%;cursor:pointer">Send Message</button></div></div></body></html>
    </script>

    <!-- 3. VELVET -->
    <script type="text/template" id="tpl-velvet">
        <!DOCTYPE html><html lang="en"><head><style>:root{--accent:{{colors.primary}};--bg:{{colors.background}};--text:{{colors.text}}}body{background:var(--bg);color:var(--text);font-family:'Arial',sans-serif;margin:0;padding:40px;height:100vh;box-sizing:border-box;display:flex;align-items:center;justify-content:center}.layout{display:grid;grid-template-columns:1fr 1fr;gap:60px;max-width:1200px;width:100%}h1{font-size:5rem;line-height:0.9;margin:0;letter-spacing:-2px}.meta{border-left:2px solid var(--accent);padding-left:20px;margin-top:30px;font-family:monospace}img{width:100%;height:500px;object-fit:cover;border-radius:20px}textarea{width:100%;background:#f4f4f5;border:none;padding:20px;border-radius:10px;margin-top:20px;font-family:inherit}@media(max-width:768px){.layout{grid-template-columns:1fr;height:auto}h1{font-size:3rem}}</style></head><body><div class="layout"><div><h1>{{text.name}}<span style="color:var(--accent)">.</span></h1><div class="meta"><p>{{text.tagline}}</p><p>{{text.bio}}</p></div><textarea placeholder="Write a message..."></textarea></div><div><img src="{{images.profile}}"></div></div></body></html>
    </script>

    <!-- EDITOR SOURCE (THE QUINE) - SAFELY ESCAPED -->
    <script type="text/template" id="tpl-editor-source">
<!DOCTYPE html><html lang="en"><head><title>Axxilak Editor</title><style>body{margin:0;font-family:sans-serif;display:flex;height:100vh;background:#111;color:#fff}#sidebar{width:300px;background:#222;padding:20px;border-right:1px solid #333}input,textarea{width:100%;background:#333;border:1px solid #444;color:#fff;padding:8px;margin-bottom:10px}iframe{flex:1;border:none;background:#fff}.btn{width:100%;padding:10px;background:#d4af37;border:none;font-weight:bold;cursor:pointer;margin-top:20px}</style></head><body><div id="sidebar"><h3>Axxilak Editor</h3><div id="controls"></div><button class="btn" onclick="exportSite()">EXPORT HTML</button></div><iframe id="preview"></iframe><script>
// Quine Safe-Guards
const state = '__STATE_PLACEHOLDER__';
const template = `__TEMPLATE_PLACEHOLDER__`;

const frame=document.getElementById('preview');const controls=document.getElementById('controls');
function render(){
    let h=template;
    if(typeof state === 'object') {
        for(let s in state){for(let k in state[s]){h=h.replaceAll(`{{${s}.${k}}}`,state[s][k]);}}
        h=h.replaceAll('{{text.bio_short}}',state.text.bio.substring(0,50));
    }
    const d=frame.contentDocument;d.open();d.write(h);d.close();
}
function createControl(lbl,key,type='text'){
    if(typeof state !== 'object') return; // Safety
    const d=document.createElement('div');d.innerHTML=`<label style="font-size:10px;text-transform:uppercase;color:#888">${lbl}</label>`;const i=document.createElement(type==='textarea'?'textarea':'input');if(type==='color')i.type='color';const[s,k]=key.split('.');i.value=state[s][k];i.oninput=e=>{state[s][k]=e.target.value;render()};d.appendChild(i);controls.appendChild(d);
}
createControl('Primary','colors.primary','color');createControl('Background','colors.background','color');createControl('Name','text.name');createControl('Tagline','text.tagline');createControl('Bio','text.bio','textarea');
render();
function exportSite(){const b=new Blob([frame.contentDocument.documentElement.outerHTML],{type:'text/html'});const a=document.createElement('a');a.href=URL.createObjectURL(b);a.download='index.html';a.click();}
<\/script></body></html>
    </script>

    <script>
        // --- MASTER LOGIC ---

        const defaults = {
            colors: { primary: "#d4af37", background: "#0a0a0a", text: "#f5f5f5" },
            text: { name: "Alex Vayner", tagline: "Strategic Consultant", bio: "Helping businesses navigate complexity through data-driven strategies and intuitive design thinking.", bio_short: "Strategy Meets Design", cta: "Work With Me" },
            images: { profile: "https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&w=400&q=80" },
            activeTemplate: "consultant"
        };

        let currentState = JSON.parse(JSON.stringify(defaults));
        let southpawMode = false;
        let currentTemplateHTML = "";

        window.onload = function () {
            const params = new URLSearchParams(window.location.search);
            const tplParam = params.get('template');
            const storedState = sessionStorage.getItem('axxilak_state');

            if (tplParam) { switchTemplate(tplParam); }
            else if (storedState) {
                currentState = JSON.parse(storedState);
                document.getElementById('template-selector').value = currentState.activeTemplate;
                syncInputs();
                loadTemplateSource(currentState.activeTemplate);
            } else { loadTemplateSource('consultant'); }

            if (localStorage.getItem('southpaw') === 'true') toggleHandedness();
        };

        async function loadTemplateSource(tplName) {
            currentState.activeTemplate = tplName;

            // 1. Try Loading Embedded Fallback First (Immediate feedback)
            const fallbackEl = document.getElementById(`tpl-${tplName}`) || document.getElementById('tpl-consultant');
            currentTemplateHTML = fallbackEl.innerHTML;

            // 2. Try Fetching External File (Progressive Enhancement)
            // We use a try/catch block to safely handle local/blob errors without crashing
            if (window.location.protocol.startsWith('http') || window.location.protocol === 'file:') {
                try {
                    const response = await fetch(`../Weblings/${tplName}/index.html`);
                    if (response.ok) {
                        currentTemplateHTML = await response.text();
                        console.log(`Loaded ${tplName} from external file.`);
                    }
                } catch (e) {
                    console.warn(`Fetch unavailable for ${tplName}, staying on fallback.`);
                }
            }

            renderPreview();
            syncInputs();
        }

        function renderPreview() {
            let tpl = currentTemplateHTML;
            for (const [section, data] of Object.entries(currentState)) {
                if (typeof data === 'object') {
                    for (const [key, val] of Object.entries(data)) {
                        const regex = new RegExp(`{{${section}.${key}}}`, 'g');
                        tpl = tpl.replace(regex, val);
                    }
                }
            }
            tpl = tpl.replace(/{{text.bio_short}}/g, currentState.text.bio.substring(0, 50));

            const frame = document.getElementById('preview-frame');
            const doc = frame.contentDocument || frame.contentWindow.document;
            doc.open(); doc.write(tpl); doc.close();

            sessionStorage.setItem('axxilak_state', JSON.stringify(currentState));

            const status = document.getElementById('save-status');
            status.innerText = "Saving..."; status.classList.replace('text-green-500', 'text-yellow-500');
            setTimeout(() => { status.innerText = "System Ready"; status.classList.replace('text-yellow-500', 'text-green-500'); updateStateSize(); }, 300);
        }

        function updateState(path, value) {
            const [sec, key] = path.split('.');
            currentState[sec][key] = value;
            if (sec === 'colors') document.getElementById(key === 'primary' ? 'lbl-primary' : 'lbl-bg').innerText = value.toUpperCase();
            renderPreview();
        }

        async function handleSmartImageUpload(input) {
            if (input.files && input.files[0]) {
                const file = input.files[0];
                document.getElementById('compression-indicator').classList.remove('hidden');
                const reader = new FileReader();
                reader.readAsDataURL(file);
                reader.onload = (e) => {
                    const img = new Image(); img.src = e.target.result;
                    img.onload = () => {
                        const canvas = document.createElement('canvas'); const ctx = canvas.getContext('2d');
                        const MAX = 800; let w = img.width, h = img.height;
                        if (w > h) { if (w > MAX) { h *= MAX / w; w = MAX; } } else { if (h > MAX) { w *= MAX / h; h = MAX; } }
                        canvas.width = w; canvas.height = h; ctx.drawImage(img, 0, 0, w, h);
                        currentState.images.profile = canvas.toDataURL('image/jpeg', 0.7);
                        document.getElementById('compression-indicator').classList.add('hidden'); renderPreview();
                    };
                };
            }
        }

        function switchTemplate(val) {
            if (val === 'velvet') { currentState.colors.primary = "#ff3366"; currentState.colors.background = "#ffffff"; }
            else if (val === 'liquid-gold') { currentState.colors.primary = "#d4af37"; currentState.colors.background = "#050505"; }
            loadTemplateSource(val);
        }

        function syncInputs() {
            document.getElementById('ctrl-primary').value = currentState.colors.primary;
            document.getElementById('ctrl-bg').value = currentState.colors.background;
            document.getElementById('ctrl-name').value = currentState.text.name;
            document.getElementById('ctrl-tagline').value = currentState.text.tagline;
            document.getElementById('ctrl-bio').value = currentState.text.bio;
        }

        function updateStateSize() {
            const json = JSON.stringify(currentState);
            document.getElementById('state-size').innerText = (new Blob([json]).size / 1024).toFixed(1) + " KB";
        }

        function toggleHandedness() {
            southpawMode = !southpawMode;
            localStorage.setItem('southpaw', southpawMode);
            const ws = document.getElementById('workspace'); const sb = document.getElementById('sidebar-panel');
            if (southpawMode) { ws.classList.add('flex-row-reverse'); sb.classList.add('border-l'); sb.classList.remove('border-r'); }
            else { ws.classList.remove('flex-row-reverse'); sb.classList.remove('border-l'); sb.classList.add('border-r'); }
        }
        document.addEventListener('keydown', (e) => { if (e.shiftKey && e.key.toLowerCase() === 's') toggleHandedness(); });

        function setPreviewMode(mode) {
            const w = document.getElementById('preview-wrapper'); const db = document.getElementById('btn-desktop'); const mb = document.getElementById('btn-mobile');
            if (mode === 'mobile') { w.style.maxWidth = '375px'; w.style.height = '80%'; w.style.borderRadius = '30px'; mb.classList.add('bg-white/10', 'text-white'); db.classList.remove('bg-white/10', 'text-white'); }
            else { w.style.maxWidth = '100%'; w.style.height = '100%'; w.style.borderRadius = '0'; db.classList.add('bg-white/10', 'text-white'); mb.classList.remove('bg-white/10', 'text-white'); }
        }

        function resetTemplate() { if (confirm("Reset Workspace?")) { sessionStorage.clear(); location.reload(); } }

        function buyAndDownload() {
            const b64 = btoa(JSON.stringify(currentState));
            // Redirect to Delivery Room
            window.location.href = `../download.html?custom=${b64}`;
        }

        function downloadHtmlOnly() {
            const doc = document.getElementById('preview-frame').contentDocument;
            const link = document.createElement("a");
            link.href = URL.createObjectURL(new Blob([doc.documentElement.outerHTML], { type: "text/html" }));
            link.download = "my_webling.html";
            link.click();
        }
    </script>
</body>

</html>


---
FILE: axxilak_portfolio/index.html
CATEGORY: HTML | ROLE: src
---
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Axxilak | Portfolio</title>
    <!-- Google Fonts: Cinzel + Outfit -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Outfit:wght@200;400;600&display=swap" rel="stylesheet">

    <style>
        @keyframes blub-in {
            0% { opacity: 0; transform: translateY(10px) scale(0.95); }
            70% { opacity: 1; transform: translateY(-2px) scale(1.02); }
            100% { opacity: 1; transform: translateY(0) scale(1.0); }
        }

        .animate-blub {
            animation: blub-in 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
        }

        /* RESET & BASE */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-color: #0a0a0a;
            --text-color: #e0e0e0;
            --accent-color: #D4AF37;
            /* Metallic Gold */
            --card-bg: #111111;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* TYPOGRAPHY */
        h1,
        h2,
        h3 {
            font-weight: 300;
            letter-spacing: -0.02em;
        }

        a {
            text-decoration: none;
            color: var(--text-color);
            transition: color 0.3s ease;
        }

        a:hover {
            color: var(--accent-color);
        }

        /* HEADER & HERO */
        header {
            height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            padding: 0 5%;
            position: relative;
            /* Needed for absolute positioning of nav/scroll */
        }

        nav {
            position: absolute;
            top: 1.5rem;
            left: 3rem;
            right: 3rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 10;
        }

        .logo {
            font-weight: 700;
            font-size: 1.2rem;
            letter-spacing: 0.1em;
            color: var(--accent-color);
        }

        .nav-links a {
            margin-left: 2rem;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            opacity: 0.7;
        }

        .nav-links a:hover {
            opacity: 1;
            color: var(--accent-color);
        }

        .hero-text {
            max-width: 800px;
            z-index: 1;
        }

        h1 {
            font-size: clamp(3rem, 8vw, 6rem);
            line-height: 1.1;
            margin-bottom: 2rem;
            background: linear-gradient(to right, #fff, #D4AF37);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        p.intro {
            font-size: 1.2rem;
            max-width: 500px;
            opacity: 0.8;
            border-left: 1px solid var(--accent-color);
            padding-left: 1.5rem;
        }

        /* SCROLL INDICATOR */
        .scroll-indicator-container {
            position: absolute;
            bottom: 2.5rem;
            left: 0;
            width: 100%;
            display: flex;
            justify-content: center;
            pointer-events: none;
        }

        .scroll-indicator {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            opacity: 0.5;
            animation: bounce 2s infinite;
            cursor: pointer;
            pointer-events: auto;
            transition: opacity 0.3s ease;
        }

        .scroll-indicator:hover {
            opacity: 1;
        }

        .scroll-text {
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 0.2em;
        }

        .scroll-line {
            width: 1px;
            height: 3rem;
            background: linear-gradient(to bottom, #ffffff, transparent);
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(-25%); animation-timing-function: cubic-bezier(0.8, 0, 1, 1); }
            50% { transform: translateY(0); animation-timing-function: cubic-bezier(0, 0, 0.2, 1); }
        }

        /* SECTIONS */
        section {
            padding: 8rem 5%;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        h2 {
            font-size: 2.5rem;
            margin-bottom: 4rem;
            border-bottom: 1px solid #333;
            padding-bottom: 1rem;
            display: inline-block;
        }

        /* PROJECT GRID */
        .project-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .project-card {
            background: var(--card-bg);
            padding: 2rem;
            border: 1px solid #222;
            transition: transform 0.3s ease, border-color 0.3s ease;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            min-height: 300px;
        }

        .project-card:hover {
            transform: translateY(-5px);
            border-color: var(--accent-color);
        }

        .project-card h3 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: #fff;
        }

        .project-card p {
            font-size: 0.95rem;
            color: #aaa;
            margin-bottom: 2rem;
            flex-grow: 1;
        }

        .project-card a {
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            font-weight: 700;
            color: var(--accent-color);
            margin-top: auto;
        }

        /* ABOUT SECTION */
        .about-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
        }

        .about-text {
            font-size: 1.1rem;
            color: #ccc;
        }

        /* FOOTER */
        footer {
            padding: 4rem 5%;
            border-top: 1px solid #222;
            text-align: center;
            font-size: 0.9rem;
            color: #666;
        }

        /* MOBILE RESPONSIVE */
        @media (max-width: 768px) {
            h1 {
                font-size: 3rem;
            }
            .about-content {
                grid-template-columns: 1fr;
            }
            section {
                padding: 4rem 5%;
            }
        }
    </style>
</head>

<body>

    <!-- HERO -->
    <header>
        <nav>
            <!-- Axxilak Brand Header (Raw CSS Version) -->
            <a href="../index.html" style="text-decoration: none; display: flex; align-items: center; gap: 1rem; opacity: 1; transition: opacity 0.3s;" onmouseover="this.style.opacity='0.8'" onmouseout="this.style.opacity='1'">
                <img src="../favicon.png" alt="Axxilak Logo" style="height: 50px; width: auto; filter: drop-shadow(0 0 15px rgba(212,175,55,0.6));">
                <div class="animate-blub" style="display: flex; flex-direction: column; justify-content: center; align-items: flex-start; text-align: left;">
                    <div style="font-family: 'Cinzel', serif; font-weight: 700; font-size: 1.5rem; letter-spacing: 0.05em; color: white; line-height: 1;">
                        AXXILAK <span style="font-family: 'Cinzel', serif; font-weight: 300; opacity: 0.8;">Studios</span>
                    </div>
                    <div style="font-family: 'Outfit', sans-serif; font-size: 10px; letter-spacing: 0.3em; color: rgba(212, 175, 55, 0.6); font-weight: 300; margin-top: 4px;">
                        We make beautiful apps.
                    </div>
                </div>
            </a>
            
            <div class="nav-links">
                <a href="#work">Work</a>
                <a href="#about">About</a>
                <a href="#contact">Contact</a>
            </div>
        </nav>

        <div class="hero-text">
            <h1>Designing Digital<br>Experiences.</h1>
            <p class="intro">
                I build accessible, pixel-perfect, and performant web interfaces using modern gold standards.
            </p>
        </div>

        <!-- Scroll Indicator -->
        <!-- Using container with w-100 and justify-center to guarantee centering -->
        <div class="scroll-indicator-container">
            <div class="scroll-indicator"
                onclick="document.getElementById('work').scrollIntoView({behavior: 'smooth'})">
                <span class="scroll-text">Scroll</span>
                <div class="scroll-line"></div>
            </div>
        </div>
    </header>

    <!-- WORK -->
    <section id="work">
        <div class="container">
            <h2>Selected Work</h2>
            <div class="project-grid">
                <!-- Project 1 -->
                <article class="project-card">
                    <h3>Project One</h3>
                    <p>A brief description of the project. Focus on the problem you solved and the result.</p>
                    <a href="#">View Case Study</a>
                </article>

                <!-- Project 2 -->
                <article class="project-card">
                    <h3>Project Two</h3>
                    <p>Another project description. Keep it concise. Let the work speak for itself.</p>
                    <a href="#">View Case Study</a>
                </article>

                <!-- Project 3 -->
                <article class="project-card">
                    <h3>Project Three</h3>
                    <p>Minimalism isn't about having less. It's about making room for more of what matters.</p>
                    <a href="#">View Case Study</a>
                </article>

                <!-- Project 4 -->
                <article class="project-card">
                    <h3>The Golden Ratio</h3>
                    <p>Exploring mathematical harmony in digital interfaces. Nature's blueprint for design.</p>
                    <a href="#">View Case Study</a>
                </article>

                <!-- Project 5 -->
                <article class="project-card">
                    <h3>Silence is Loud</h3>
                    <p>A study on white space. How emptiness guides the eye more effectively than clutter.</p>
                    <a href="#">View Case Study</a>
                </article>

                <!-- Project 6 -->
                <article class="project-card">
                    <h3>Negative Space</h3>
                    <p>Using the background as an active element in the composition.</p>
                    <a href="#">View Case Study</a>
                </article>

                <!-- Project 7 -->
                <article class="project-card">
                    <h3>Typography Talk</h3>
                    <p>When the font itself becomes the image. A typographic experiment.</p>
                    <a href="#">View Case Study</a>
                </article>

                <!-- Project 8 -->
                <article class="project-card">
                    <h3>Grid Systems</h3>
                    <p>Breaking the rules only works after you master them. Swiss style for the web.</p>
                    <a href="#">View Case Study</a>
                </article>

                <!-- Project 9 -->
                <article class="project-card">
                    <h3>Color Theory</h3>
                    <p>The psychology of gold and black. Communicating luxury without words.</p>
                    <a href="#">View Case Study</a>
                </article>

                <!-- Project 10 -->
                <article class="project-card">
                    <h3>Digital Dust</h3>
                    <p>Particle systems and canvas interactions. The code behind the background.</p>
                    <a href="#">View Case Study</a>
                </article>

                <!-- Project 11 -->
                <article class="project-card">
                    <h3>Pixel Perfect</h3>
                    <p>Obsessive attention to detail in icon design and SVG optimization.</p>
                    <a href="#">View Case Study</a>
                </article>

                <!-- Project 12 -->
                <article class="project-card">
                    <h3>Final Render</h3>
                    <p>3D visualization and lighting techniques in a flat web environment.</p>
                    <a href="#">View Case Study</a>
                </article>
            </div>
        </div>
    </section>

    <!-- ABOUT -->
    <section id="about">
        <div class="container">
            <h2>About Me</h2>
            <div class="about-content">
                <div class="about-text">
                    <p>
                        I am a multidisciplinary designer and developer with a passion for creating immersive digital
                        experiences.
                        My work lies at the intersection of design and technology, ensuring that every pixel serves a
                        purpose
                        and every interaction feels natural.
                    </p>
                    <br>
                    <p>
                        Currently available for freelance projects and collaborations.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- CONTACT -->
    <section id="contact" style="background-color: #0a0a0a; position: relative; z-index: 1;">
        <div class="container">
            <h2>Let's Work Together</h2>
            <div class="about-content">
                <div class="about-text">
                    <p>I'm always interested in hearing about new projects and opportunities.</p>
                    <br>
                    <form style="margin-top: 2rem; max-width: 500px;">
                        <div style="margin-bottom: 1.5rem;">
                            <label style="display: block; margin-bottom: 0.5rem; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 0.05em;">Name</label>
                            <input type="text" placeholder="Your name" style="width: 100%; padding: 0.75rem; background: #111; border: 1px solid #333; color: #e0e0e0; font-family: inherit;">
                        </div>
                        <div style="margin-bottom: 1.5rem;">
                            <label style="display: block; margin-bottom: 0.5rem; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 0.05em;">Email</label>
                            <input type="email" placeholder="your@email.com" style="width: 100%; padding: 0.75rem; background: #111; border: 1px solid #333; color: #e0e0e0; font-family: inherit;">
                        </div>
                        <div style="margin-bottom: 1.5rem;">
                            <label style="display: block; margin-bottom: 0.5rem; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 0.05em;">Message</label>
                            <textarea placeholder="Tell me about your project..." rows="5" style="width: 100%; padding: 0.75rem; background: #111; border: 1px solid #333; color: #e0e0e0; font-family: inherit;"></textarea>
                        </div>
                        <button type="submit" style="padding: 0.75rem 2rem; background: #D4AF37; color: #0a0a0a; border: none; font-weight: 600; cursor: pointer; text-transform: uppercase; letter-spacing: 0.05em;">Send</button>
                    </form>
                    <br>
                    <p style="margin-top: 3rem;">
                        <strong>Direct Contact:</strong><br>
                        <a href="mailto:contact@axxilak.com">contact@axxilak.com</a><br>
                        <a href="https://linkedin.com" target="_blank">LinkedIn</a> | <a href="https://twitter.com" target="_blank">Twitter</a>
                    </p>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <p>&copy; 2024 Portfolio. All Rights Reserved.</p>
    </footer>

</body>

</html>


---
FILE: beacon.js
CATEGORY: JavaScript | ROLE: src
---
alert("BEACON ACTIVE: The path is correct.");
console.log("BEACON ACTIVE");


---
FILE: coherence_engine.js
CATEGORY: JavaScript | ROLE: src
---
(function() {
    console.log("Checking Coherence... (Type 'lux' to activate)");

    // --- STATE ---
    let isActive = false;
    let keystrokes = [];
    const SECRET_CODE = "lux";

    // --- ACTIVATION LISTENER ---
    document.addEventListener('keydown', (e) => {
        if (isActive) return; 

        keystrokes.push(e.key.toLowerCase());
        if (keystrokes.length > SECRET_CODE.length) {
            keystrokes.shift();
        }
        
        if (keystrokes.join("") === SECRET_CODE) {
            initCoherenceEngine();
        }
    });

    // --- ENGINE INITIALIZATION ---
    function initCoherenceEngine() {
        if (isActive) return;
        isActive = true;
        console.log(" COHERENCE ENGINE ENGAGED: PHASE 3 (SUMMONER) ");

        // 1. Inject Styles
        const css = 
            // Main UI Bar
            ".coherence-ui-glass {" +
            "    position: fixed;" +
            "    bottom: 30px;" +
            "    left: 50%;" +
            "    transform: translateX(-50%);" +
            "    background: rgba(10, 10, 10, 0.9);" +
            "    backdrop-filter: blur(12px);" +
            "    border: 1px solid rgba(212, 175, 55, 0.3);" +
            "    padding: 12px 24px;" +
            "    border-radius: 50px;" +
            "    display: flex;" +
            "    align-items: center;" +
            "    gap: 20px;" +
            "    z-index: 99999;" +
            "    box-shadow: 0 10px 40px rgba(0,0,0,0.6);" +
            "    font-family: 'Outfit', sans-serif;" +
            "    animation: slideUp 0.6s cubic-bezier(0.16, 1, 0.3, 1);" +
            "}" +
            "@keyframes slideUp {" +
            "    from { bottom: -100px; opacity: 0; }" +
            "    to { bottom: 30px; opacity: 1; }" +
            "}" +
            ".coherence-label {" +
            "    color: #d4af37;" +
            "    font-size: 11px;" +
            "    letter-spacing: 0.15em;" +
            "    text-transform: uppercase;" +
            "    font-weight: 600;" +
            "    display: flex;" +
            "    align-items: center;" +
            "    gap: 8px;" +
            "}" +
            ".coherence-label::before {" +
            "    content: '';" +
            "    display: block;" +
            "    width: 6px;" +
            "    height: 6px;" +
            "    background: #d4af37;" +
            "    border-radius: 50%;" +
            "    box-shadow: 0 0 10px #d4af37;" +
            "}" +
            ".coherence-btn {" +
            "    background: linear-gradient(135deg, #d4af37 0%, #aa771c 100%);" +
            "    color: #000;" +
            "    border: none;" +
            "    padding: 8px 20px;" +
            "    border-radius: 20px;" +
            "    font-size: 11px;" +
            "    font-weight: 700;" +
            "    text-transform: uppercase;" +
            "    letter-spacing: 0.1em;" +
            "    cursor: pointer;" +
            "    transition: all 0.3s ease;" +
            "}" +
            ".coherence-btn:hover {" +
            "    transform: translateY(-2px);" +
            "    box-shadow: 0 5px 15px rgba(212, 175, 55, 0.3);" +
            "}" +
            ".coherence-close {" +
            "    background: transparent;" +
            "    border: none;" +
            "    color: rgba(255,255,255,0.4);" +
            "    cursor: pointer;" +
            "    font-size: 16px;" +
            "    transition: color 0.3s;" +
            "    margin-left: 10px;" +
            "}" +
            ".coherence-close:hover { color: #fff; }" +
            
            // Editable Elements
            ".coherence-editable {" +
            "    outline: 1px dashed rgba(255, 255, 255, 0.1);" +
            "    transition: all 0.2s;" +
            "}" +
            ".coherence-editable:hover {" +
            "    outline: 1px solid rgba(212, 175, 55, 0.8);" +
            "    cursor: text;" +
            "    background: rgba(212, 175, 55, 0.05);" +
            "    position: relative;" +
            "}" +
            "[contenteditable='true'] {" +
            "    outline: 2px solid #d4af37 !important;" +
            "    background: rgba(0,0,0,0.8) !important;" +
            "    color: white !important;" +
            "    z-index: 1000;" +
            "    position: relative;" +
            "    min-width: 20px;" +
            "}" +
            
            // Image Controls
            ".coherence-image {" +
            "    outline: 1px dashed rgba(255, 255, 255, 0.1);" +
            "}" +
            ".coherence-image:hover {" +
            "    outline: 2px solid #d4af37;" +
            "    cursor: pointer;" +
            "}" +
            
            // Section Toolbar
            ".coherence-section-toolbar {" +
            "    position: absolute;" +
            "    top: 0;" +
            "    right: 0;" +
            "    background: #000;" +
            "    border: 1px solid #333;" +
            "    display: flex;" +
            "    gap: 1px;" +
            "    z-index: 10000;" +
            "    opacity: 0;" +
            "    transition: opacity 0.2s;" +
            "    pointer-events: none;" + 
            "}" +
            ".coherence-section:hover .coherence-section-toolbar {" +
            "    opacity: 1;" +
            "    pointer-events: auto;" +
            "}" +
            ".coherence-section-btn {" +
            "    background: #111;" +
            "    border: none;" +
            "    color: #888;" +
            "    padding: 6px 10px;" +
            "    cursor: pointer;" +
            "    font-size: 12px;" +
            "}" +
            ".coherence-section-btn:hover {" +
            "    background: #222;" +
            "    color: #fff;" +
            "}" +
            ".btn-danger:hover { background: #ef4444; color: white; }" +
            ".coherence-section { position: relative; border: 1px dashed transparent; }" +
            ".coherence-section:hover { border-color: rgba(255,255,255,0.1); }" +
            
            // Summoner Menu (The Ghost Button's Interface)
            ".coherence-summoner {" +
            "    position: fixed;" +
            "    bottom: 90px;" +
            "    left: 50%;" +
            "    transform: translateX(-50%);" +
            "    background: #111;" +
            "    border: 1px solid #333;" +
            "    border-radius: 8px;" +
            "    width: 200px;" +
            "    display: none;" +
            "    flex-direction: column;" +
            "    overflow: hidden;" +
            "    box-shadow: 0 10px 30px rgba(0,0,0,0.8);" +
            "    z-index: 100000;" +
            "}" +
            ".coherence-summon-item {" +
            "    padding: 12px;" +
            "    background: transparent;" +
            "    border: none;" +
            "    border-bottom: 1px solid #222;" +
            "    color: #888;" +
            "    text-align: left;" +
            "    cursor: pointer;" +
            "    font-family: sans-serif;" +
            "    font-size: 12px;" +
            "    transition: all 0.2s;" +
            "}" +
            ".coherence-summon-item:hover {" +
            "    background: #222;" +
            "    color: #d4af37;" +
            "}";

        const style = document.createElement('style');
        style.innerHTML = css;
        document.head.appendChild(style);

        // 2. Inject UI
        const ui = document.createElement('div');
        ui.className = 'coherence-ui-glass';
        ui.innerHTML = 
            '<div class="coherence-label">Coherence Engaged</div>' +
            '<button id="coherence-add" class="coherence-section-btn" style="border-radius: 20px; border: 1px solid #333; margin-right: 10px;">+ Add</button>' +
            '<button id="coherence-save" class="coherence-btn">Commit to Reality</button>' +
            '<button id="coherence-close" class="coherence-close"></button>';
        document.body.appendChild(ui);
        
        // 2.5 Inject Summoner Menu
        const menu = document.createElement('div');
        menu.id = 'coherence-summoner-menu';
        menu.className = 'coherence-summoner';
        document.body.appendChild(menu);

        // 3. Awaken Elements
        activateTextEditing();
        activateImageSwapping();
        activateSectionControls();
        interceptLinks();
        buildSummonerMenu();

        // 4. Bind Actions
        document.getElementById('coherence-save').onclick = commitToReality;
        document.getElementById('coherence-close').onclick = shutdownEngine;
        document.getElementById('coherence-add').onclick = toggleSummoner;
    }
    
    function buildSummonerMenu() {
        const menu = document.getElementById('coherence-summoner-menu');
        menu.innerHTML = ''; // Clear
        
        // Find all templates in the document
        const templates = document.querySelectorAll('template[data-name]');
        
        if (templates.length === 0) {
            menu.innerHTML = '<div style="padding:10px; color:#666; font-size:10px;">No Blueprints Found</div>';
            return;
        }
        
        templates.forEach(tpl => {
            const btn = document.createElement('button');
            btn.className = 'coherence-summon-item';
            btn.innerText = '+ ' + tpl.getAttribute('data-name');
            btn.onclick = () => summonTemplate(tpl);
            menu.appendChild(btn);
        });
    }
    
    function toggleSummoner() {
        const menu = document.getElementById('coherence-summoner-menu');
        menu.style.display = menu.style.display === 'flex' ? 'none' : 'flex';
    }
    
    function summonTemplate(tpl) {
        // Clone content
        const clone = tpl.content.cloneNode(true);
        // Inject before Footer (assuming footer is last main element)
        const footer = document.querySelector('footer');
        if (footer) {
            footer.parentNode.insertBefore(clone, footer);
        } else {
            document.body.appendChild(clone);
        }
        
        // Re-scan for interactive elements
        activateTextEditing(); // Re-bind new text
        activateSectionControls(); // Add toolbar to new section
        
        // Close menu
        document.getElementById('coherence-summoner-menu').style.display = 'none';
        
        // Scroll to new section
        footer.previousElementSibling.scrollIntoView({behavior: 'smooth'});
    }

    function activateTextEditing() {
        const textNodes = document.querySelectorAll('h1, h2, h3, h4, p, span, li, a, button, div');
        textNodes.forEach(el => {
            if (el.closest('.coherence-ui-glass')) return;
            if (el.closest('.coherence-section-toolbar')) return;
            
            const hasText = el.textContent.trim().length > 0;
            const isLeaf = el.children.length === 0;
            
            if (hasText && isLeaf) {
                el.classList.add('coherence-editable');
                
                el.addEventListener('click', (e) => {
                    if (!isActive) return;
                    e.preventDefault();
                    e.stopPropagation();
                    el.contentEditable = "true";
                    el.focus();
                }, true);

                el.onblur = () => {
                    el.contentEditable = "false";
                };
                
                el.onkeydown = (e) => {
                     if (e.key === 'Enter' && !['P', 'LI'].includes(el.tagName)) {
                        e.preventDefault();
                        el.blur();
                     }
                };
            }
        });
    }

    function activateImageSwapping() {
        const images = document.querySelectorAll('img');
        images.forEach(img => {
            if (img.closest('.coherence-ui-glass')) return;
            img.classList.add('coherence-image');

            img.addEventListener('click', (e) => {
                if (!isActive) return;
                e.preventDefault();
                e.stopPropagation();

                const input = document.createElement('input');
                input.type = 'file';
                input.accept = 'image/*';
                input.onchange = (ev) => {
                    const file = ev.target.files[0];
                    if (file) {
                        const reader = new FileReader();
                        reader.onload = (readerEvent) => {
                            img.src = readerEvent.target.result;
                        };
                        reader.readAsDataURL(file);
                    }
                };
                input.click();
            }, true);
        });
    }

    function activateSectionControls() {
        const sections = document.querySelectorAll('section, header, footer');
        sections.forEach(sec => {
            if (sec.closest('.coherence-ui-glass')) return;
            if (sec.classList.contains('coherence-section')) return; // Already bound
            
            sec.classList.add('coherence-section');
            
            const toolbar = document.createElement('div');
            toolbar.className = 'coherence-section-toolbar';
            toolbar.contentEditable = "false"; 
            
            const btnUp = document.createElement('button');
            btnUp.innerHTML = '';
            btnUp.className = 'coherence-section-btn';
            btnUp.onclick = (e) => { e.preventDefault(); e.stopPropagation(); if (sec.previousElementSibling) sec.parentNode.insertBefore(sec, sec.previousElementSibling); };
            
            const btnDown = document.createElement('button');
            btnDown.innerHTML = '';
            btnDown.className = 'coherence-section-btn';
            btnDown.onclick = (e) => { e.preventDefault(); e.stopPropagation(); if (sec.nextElementSibling) sec.parentNode.insertBefore(sec.nextElementSibling, sec); };
            
            const btnDup = document.createElement('button');
            btnDup.innerHTML = 'Clone';
            btnDup.className = 'coherence-section-btn';
            btnDup.onclick = (e) => { 
                e.preventDefault(); e.stopPropagation();
                const clone = sec.cloneNode(true);
                clone.classList.remove('coherence-section'); // Strip status so re-init works cleanly
                clone.querySelectorAll('.coherence-section-toolbar').forEach(b => b.remove());
                sec.parentNode.insertBefore(clone, sec.nextSibling);
                activateSectionControls(); // Re-bind new section
                activateTextEditing(); // Re-bind new text
            };
            
            const btnDel = document.createElement('button');
            btnDel.innerHTML = '';
            btnDel.className = 'coherence-section-btn btn-danger';
            btnDel.onclick = (e) => { e.preventDefault(); e.stopPropagation(); if(confirm("Delete this section?")) sec.remove(); };
            
            toolbar.append(btnUp, btnDown, btnDup, btnDel);
            sec.prepend(toolbar);
        });
    }
    
    function interceptLinks() {
        const links = document.querySelectorAll('a');
        links.forEach(a => {
            a.addEventListener('click', (e) => {
                if (isActive) e.preventDefault();
            }, false);
        });
    }

    function commitToReality() {
        // DEMO MODE: Modal Logic
        const modal = document.createElement('div');
        modal.style.cssText = `
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); backdrop-filter: blur(8px);
            z-index: 100000; display: flex; align-items: center; justify-content: center;
            animation: fadeIn 0.3s ease;
        `;
        
        modal.innerHTML = `
            <div style="background: #111; border: 1px solid #d4af37; padding: 40px; text-align: center; max-width: 500px; position: relative;">
                <button id="demo-close" style="position: absolute; top: 10px; right: 10px; background: none; border: none; color: #666; cursor: pointer;"></button>
                <div style="color: #d4af37; font-size: 12px; text-transform: uppercase; letter-spacing: 0.2em; margin-bottom: 20px;">Architecture Crystallized</div>
                <h2 style="color: white; font-family: 'Cinzel', serif; font-size: 32px; margin-bottom: 20px;">Unlock Your Reality</h2>
                <p style="color: #888; font-family: 'Outfit', sans-serif; line-height: 1.6; margin-bottom: 30px;">
                    You have shaped this webling to your vision. To export the source code and take full ownership, acquire the Sovereign Key.
                </p>
                <div style="display: flex; gap: 10px; justify-content: center;">
                    <button onclick="window.location.href='./Axxilak Forge v4.0 (The Composer).html'" style="background: #d4af37; color: black; border: none; padding: 12px 30px; font-weight: bold; text-transform: uppercase; cursor: pointer; letter-spacing: 0.1em;">
                        Acquire License ($20)
                    </button>
                </div>
            </div>
        `;
        
        document.body.appendChild(modal);
        document.getElementById('demo-close').onclick = () => modal.remove();
        modal.onclick = (e) => { if (e.target === modal) modal.remove(); };
    }

    function shutdownEngine() {
        if(confirm("Disengage Coherence Mode? Unsaved changes will be lost.")) {
            location.reload(); 
        }
    }

})();

---
FILE: css/transition-crack.css
CATEGORY: CSS | ROLE: src
---
/**
 * Axxilak Cracking Transition Styles
 * GPU acceleration, z-index layering, accessibility
 */

/* Prevent layout shift during transition */
body.transition-active {
    overflow: hidden;
}

/* Canvas overlay for shard rendering */
#transition-crack-canvas {
    will-change: opacity;
    transform: translateZ(0); /* GPU acceleration */
}

/* Backdrop layer */
#transition-backdrop {
    backdrop-filter: blur(2px);
    -webkit-backdrop-filter: blur(2px);
    will-change: opacity;
    animation: fadeIn 0.3s ease-out;
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

/* Expanding card during transition */
.transition-card {
    will-change: transform, opacity;
    transform: translateZ(0);
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.8);
    border-radius: 0;
}

/* Accessibility: Respect prefers-reduced-motion */
@media (prefers-reduced-motion: reduce) {
    #transition-crack-canvas,
    #transition-backdrop,
    .transition-card {
        animation: none !important;
        transition: none !important;
    }

    /* Instant crossfade fallback */
    #transition-backdrop {
        opacity: 0;
    }

    .transition-card {
        opacity: 0;
    }
}

/* Mobile optimization */
@media (max-width: 768px) {
    #transition-crack-canvas {
        /* Reduce shard count on mobile for performance */
        /* (Handled via JavaScript) */
    }
}

/* Z-index hierarchy (clear layering) */
:root {
    --z-backdrop: 9997;
    --z-shards: 9998;
    --z-card: 9999;
}

/* Ensure other fixed elements don't interfere */
header,
nav {
    z-index: 50; /* Below transition layers */
}


---
FILE: download.html
CATEGORY: HTML | ROLE: src
---
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Axxilak Webling - Download</title>
    <style>
        body { font-family: Arial, sans-serif; background: #0f172a; color: #f8fafc; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .container { text-align: center; max-width: 500px; }
        .logo { font-size: 48px; margin-bottom: 20px; }
        h1 { color: #d4af37; }
        .status { margin: 20px 0; font-size: 16px; }
        .progress { width: 100%; height: 4px; background: #334155; border-radius: 2px; margin: 20px 0; overflow: hidden; }
        .progress-bar { height: 100%; background: #d4af37; width: 0%; animation: progress 2s ease-in-out; }
        @keyframes progress { 0% { width: 0%; } 100% { width: 100%; } }
        .link { display: inline-block; margin-top: 20px; padding: 12px 24px; background: #d4af37; color: #0f172a; text-decoration: none; border-radius: 4px; font-weight: bold; }
        .error { color: #ef4444; margin-top: 20px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="logo">A</div>
        <h1>Axxilak Webling</h1>
        <div class="status">
            <p>Rendering your custom webling...</p>
            <div class="progress"><div class="progress-bar"></div></div>
        </div>
        <p id="message">Processing your customizations...</p>
        <a href="#" id="download-link" class="link" style="display: none;">Download Your Webling</a>
        <div id="error" class="error"></div>
    </div>

    <script>
        async function generateWebling() {
            try {
                const params = new URLSearchParams(window.location.search);
                const customData = params.get('custom');
                
                if (!customData) {
                    throw new Error('No customization data provided.');
                }

                // Decode the base64 state
                const stateJSON = atob(customData);
                const state = JSON.parse(stateJSON);
                
                // Fetch the template
                const templateName = state.activeTemplate || 'velvet';
                const templateResponse = await fetch(`./Weblings/${templateName}/index.html`);
                if (!templateResponse.ok) throw new Error(`Could not load template: ${templateName}`);
                
                let html = await templateResponse.text();

                // Replace all {{variable}} with state values
                for (const [section, data] of Object.entries(state)) {
                    if (typeof data === 'object' && section !== 'sections') {
                        for (const [key, val] of Object.entries(data)) {
                            const regex = new RegExp(`{{${section}.${key}}}`, 'g');
                            html = html.replace(regex, val);
                        }
                    }
                }

                // Handle section toggles
                for (const [secName, isVisible] of Object.entries(state.sections)) {
                    if (!isVisible) {
                        html = html.replace(`id="sec-${secName}"`, `id="sec-${secName}" style="display:none !important"`);
                    }
                }

                // Generate downloadable file
                const blob = new Blob([html], { type: 'text/html' });
                const url = URL.createObjectURL(blob);
                const link = document.getElementById('download-link');
                link.href = url;
                link.download = `${state.text.name.replace(/\s+/g, '_')}_webling.html`;
                link.style.display = 'inline-block';
                
                document.getElementById('message').textContent = 'Your webling is ready!';
                
            } catch (error) {
                console.error('Error:', error);
                document.getElementById('error').textContent = error.message || 'An error occurred';
                document.getElementById('message').textContent = 'There was an issue generating your webling.';
            }
        }

        window.addEventListener('load', generateWebling);
    </script>
</body>
</html>


---
FILE: favicon.ico
CATEGORY: Icon | ROLE: src
---
            6                     N	    PNG

   
IHDR         a  IDATx5Mo[UE9=9v)J?T*P1I	|:{%m-1=0`89qO
H($,DTD>(Au?y@JUB*P9KK5,%!GCRQQp+Ix",4xmYow|#2$8F<S.L+f-M&_ ^!o ld	-DLzk|C`IW#zfL'5-H%2j6$1a	ag7<<]jDP#iI#Y3e7wmp)a5eFylOiY<;b%{$H/t{Ji)
]O#PUmW[~~8]9U(N*
BPN.u"%iou"2xUV8
9y1MtGE0s3r6BGPJ"'Z!; U=TH}"!N`r;4MVUr r_#8*U;U3    IENDB`PNG

   
IHDR         w=  UIDATx=Ko^Iscoqb'10$b4lU~ !LLI4__w;XRWu=[w!R&x zE%5FX WGldS+	$Cp%$d,tDEQD*)!b"CnMyAHn8"8"!*A8%~T "(2Fq
O$P	l[/
}_|H$d
w5Q(J+4:*4U F'[GLQB`$I'\p0`F|gL#~x4$@5xy
h)/dz]>#>6'#9!Xr)$K^ZH"pM55&[c{-9gu.%yK[&KW\?`yo	Tr;+G<yv
6wt%{YH(t,fasLW<zo3%?Q7(7wb(^w\q}xJahrW7Gw7kuaB$m!nhyItaW&.M8,3Cc~[y!q>S<	b	-V5D3-q8[3k++uasx'D3wds'NP
3M*1nW2;ym'S	+9/}^849Wfd^u9`%|n@=?qge
n8BUGxg|1
Uj*;+c)6/dHA p7 NOu	DY,t9i)QQ0Uu"Jcf1'wfh*l.vNJ(1-_4PbD ""4fRmAI:36C{^0	.Y7M
Q]L	",9Y&:pD	YW
pRQQJ^%=[
d39.GQr#[H`{3])hT4cBQS"TH /O
4!"8}C
~=1v1FB;|
\ ^ "W&*^z    IENDB`PNG

   
IHDR           szz  	IDATxUq3A$ESIJ(Nl9 	A y&8@!iJ"xs{wUUX#A_]UULHH(I3D"KG"i^e$$"KF[Pcd$(V1h
,'"1DPB@J""3Xw+S!1"(9%jBLZ!D\U $ECAvS"w	DNuyY&LrsHJhR3#AH 8AIVc[?B(6#"-a
* G>=pP0
+?
>c,~!j;] Cw{0ZPRJMIA	cq_B~ug;UR2!aI7Nt(QM^cgOVy9K0B0H"*%
ZhC	*!_~?'8F`UN3h0oFqFJKc[=lR+nooy6?yf#)+T$1SjAfz&:DO	%$kW+=;u<K@o}7__>`a0bQQmN"$MGOWQ
R%j%~]{7m~;?<Kh#E|N
[>_Tsa:Dz?4gor'8.~q2|;68h
bQ@>iZ4(y
<o_3Tp||H$TUA5(,ZX].Oq'Xy37v^:w.O9_K8EESKEhbV@
jT
&F%.~[)9sg0'[W}I[S&}%kmz9{1R01azg3pL2+@6/ikYB,`TJ4fG[#Pga.tX'zcBDW'MKc~(tS16.fOImKXTYrp&?KNcGT[1R17+8"Bd/Igc5ak<?|W7\;;{ANtG+<)-Q2B( .Aw-Ec1X8
u~q;Kw8caI9+op2J`AT J{L&DW-	ZX-|r47|1>&nqNB9$*G)s#++l'_\hc*NM9-+zP8/;JN
askHm3KdM	5)irsO!R!5MxrW1B#L;HZ+R#}!La6R\,Y__p
3Xxc{triX|mNmZ>%3"IP20#]I*:;ti5kHaX0`o ,0s[ 5PON#3kk2[% $,P(f	w'B47J#a@XB%e|t9GA
z#y3T  rNGM2Rqr:6_)yU`C*EURkh3sr 8LN	cXh5{(]jGPJQTmjU;Dx4gEwLWVQZFju-;aVA94DK?D 4(i	f
D*FUwpz-K-.d=Jm;*`j&%
IZrw}Z}mh;m^U_?BE?    IENDB`
